{% set form = formErrorTextExchange(form,  {
    'rating' : {
        'cannot-be-empty' : 'Please select a rating for this service',
    },
    'details' : {
        'cannot-be-empty' : 'Don\'t forget to leave your feedback in the box',
        'max-2000-chars' : 'Please limit your feedback to 2000 characters',
    } 
}) %}

{% if (error is not empty or form.getMessages|length > 0) %}
<div class="error-summary" role="group" aria-labelledby="error-heading" tabindex="-1">
    <h1 class="heading-medium error-summary-heading" id="error-heading">There was a problem submitting your feedback</h1>
    {# Show this only if it's a form error #}
    {% if form.getMessages|length > 0 %}
        <p>You need to do the following:</p>
    {% endif %}

    <ul class="error-summary-list">
        {# Form errors #}
        {{ formLinkedErrorListV2(form) ? '' }}

        {# API errors #}
        {% if error is not empty %}
            <li><p>{{ error }}</p></li>
        {% endif %}
    </ul>
</div>
{% endif %}
