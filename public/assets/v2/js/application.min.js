var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(e){"use strict";function n(t){return o[t]||"&amp;"}var i={},s=t,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=/[&<>"'`]/g,a=/[&<>"'`]/;i.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var l=Object.prototype.toString;i.toString=l,(c=function(t){return"function"==typeof t})(/x/)&&(c=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)});var c;i.isFunction=c;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};return i.isArray=u,i.escapeExpression=function(t){return t instanceof s?t.toString():t||0===t?(t=""+t,a.test(t)?t.replace(r,n):t):""},i.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},i}(),n=function(){"use strict";function t(){for(var t=Error.prototype.constructor.apply(this,arguments),n=0;n<e.length;n++)this[e[n]]=t[e[n]]}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(t,i){"use strict";function s(t,e){this.helpers=t||{},this.partials=e||{},o(this)}function o(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},s=n.fn;return p(e)&&(e=e.call(this)),!0===e?s(this):!1===e||null==e?i(this):h(e)?e.length>0?t.helpers.each(e,n):i(this):s(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,s=e.inverse,o=0,r="";if(p(t)&&(t=t.call(this)),e.data&&(n=m(e.data)),t&&"object"==typeof t)if(h(t))for(var a=t.length;o<a;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),r+=i(t[o],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l),r+=i(t[l],{data:n}),o++);return 0===o&&(r=s(this)),r}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||l.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){if(p(t)&&(t=t.call(this)),!l.isEmpty(t))return e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function r(t,e){f.log(t,e)}var a={},l=e,c=n;a.VERSION="1.1.2";a.COMPILER_REVISION=4;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};a.REVISION_CHANGES=u;var h=l.isArray,p=l.isFunction,d=l.toString;a.HandlebarsEnvironment=s,s.prototype={constructor:s,logger:f,log:r,registerHelper:function(t,e,n){if("[object Object]"===d.call(t)){if(n||e)throw new c("Arg not supported with multiple helpers");l.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){"[object Object]"===d.call(t)?l.extend(this.partials,t):this.partials[t]=e}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(f.level<=t){var n=f.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};a.logger=f,a.log=r;var m=function(t){var e={};return l.extend(e,t),e};return a.createFrame=m,a}(),s=function(t,i,s){"use strict";function o(t){var e=t&&t[0]||1,n=d;if(e!==n){if(e<n){var i=f[n],s=f[e];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e,n){var i=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||n].concat(i))};return s.program=t,s.depth=i.length,s}function a(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function l(t,e,n,i,s,o){var r={partial:!0,helpers:i,partials:s,data:o};if(void 0===t)throw new p("The partial "+e+" could not be found");if(t instanceof Function)return t(n,r)}function c(){return""}var u={},h=e,p=n,d=s.COMPILER_REVISION,f=s.REVISION_CHANGES;return u.template=function(t,e){if(!e)throw new Error("No environment passed to template");var n;n=e.compile?function(t,n,i,s,o,r){var a=l.apply(this,arguments);if(a)return a;var c={helpers:s,partials:o,data:r};return o[n]=e.compile(t,{data:void 0!==r},e),o[n](i,c)}:function(t,e){var n=l.apply(this,arguments);if(n)return n;throw new p("The partial "+e+" could not be compiled when running in runtime-only mode")};var i={escapeExpression:h.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=a(t,e,n):i||(i=this.programs[t]=a(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},h.extend(n,e),h.extend(n,t)),n},programWithDepth:r,noop:c,compilerInfo:null};return function(n,s){var r,a,l=(s=s||{}).partial?s:e;s.partial||(r=s.helpers,a=s.partials);var c=t.call(i,l,n,r,a,s.data);return s.partial||o(i.compilerInfo),c}},u.programWithDepth=r,u.program=a,u.invokePartial=l,u.noop=c,u}(0,0,i),o=function(o,r,a,l,c){"use strict";var u=i,h=t,p=n,d=e,f=s,m=function(){var t=new u.HandlebarsEnvironment;return d.extend(t,u),t.SafeString=h,t.Exception=p,t.Utils=d,t.VM=f,t.template=function(e){return f.template(e,t)},t},g=m();return g.create=m,g}(),r=function(t){"use strict";function e(t,n,i){this.type="program",this.statements=t,this.strip={},i?(this.inverse=new e(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)}var i={},s=n;return i.ProgramNode=e,i.MustacheNode=function(t,e,n,i){this.type="mustache",this.hash=e,this.strip=i;var s=n[3]||n[2];this.escaped="{"!==s&&"&"!==s;var o=this.id=t[0],r=this.params=t.slice(1),a=this.eligibleHelper=o.isSimple;this.isHelper=a&&(r.length||e)},i.PartialNode=function(t,e,n){this.type="partial",this.partialName=t,this.context=e,this.strip=n},i.BlockNode=function(t,e,n,i){if(t.id.original!==i.path.original)throw new s(t.id.original+" doesn't match "+i.path.original);this.type="block",this.mustache=t,this.program=e,this.inverse=n,this.strip={left:t.strip.left,right:i.strip.right},(e||n).strip.left=t.strip.right,(n||e).strip.right=i.strip.left,n&&!e&&(this.isInverse=!0)},i.ContentNode=function(t){this.type="content",this.string=t},i.HashNode=function(t){this.type="hash",this.pairs=t},i.IdNode=function(t){this.type="ID";for(var e="",n=[],i=0,o=0,r=t.length;o<r;o++){var a=t[o].part;if(e+=(t[o].separator||"")+a,".."===a||"."===a||"this"===a){if(n.length>0)throw new s("Invalid path: "+e);".."===a?i++:this.isScoped=!0}else n.push(a)}this.original=e,this.parts=n,this.string=n.join("."),this.depth=i,this.isSimple=1===t.length&&!this.isScoped&&0===i,this.stringModeValue=this.string},i.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t.original},i.DataNode=function(t){this.type="DATA",this.id=t},i.StringNode=function(t){this.type="STRING",this.original=this.string=this.stringModeValue=t},i.IntegerNode=function(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},i.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},i.CommentNode=function(t){this.type="comment",this.comment=t},i}(),a=function(){"use strict";return function(){function t(t,e){return{left:"~"===t[2],right:"~"===e[0]||"~"===e[1]}}function e(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(e,n,i,s,o,r,a){var l=r.length-1;switch(o){case 1:return new s.ProgramNode(r[l-1]);case 2:return new s.ProgramNode([]);case 3:this.$=new s.ProgramNode([],r[l-1],r[l]);break;case 4:this.$=new s.ProgramNode(r[l-2],r[l-1],r[l]);break;case 5:this.$=new s.ProgramNode(r[l-1],r[l],[]);break;case 6:this.$=new s.ProgramNode(r[l]);break;case 7:case 8:this.$=new s.ProgramNode([]);break;case 9:this.$=[r[l]];break;case 10:r[l-1].push(r[l]),this.$=r[l-1];break;case 11:this.$=new s.BlockNode(r[l-2],r[l-1].inverse,r[l-1],r[l]);break;case 12:this.$=new s.BlockNode(r[l-2],r[l-1],r[l-1].inverse,r[l]);break;case 13:case 14:this.$=r[l];break;case 15:this.$=new s.ContentNode(r[l]);break;case 16:this.$=new s.CommentNode(r[l]);break;case 17:case 18:this.$=new s.MustacheNode(r[l-1][0],r[l-1][1],r[l-2],t(r[l-2],r[l]));break;case 19:this.$={path:r[l-1],strip:t(r[l-2],r[l])};break;case 20:case 21:this.$=new s.MustacheNode(r[l-1][0],r[l-1][1],r[l-2],t(r[l-2],r[l]));break;case 22:this.$=new s.PartialNode(r[l-2],r[l-1],t(r[l-3],r[l]));break;case 23:this.$=t(r[l-1],r[l]);break;case 24:this.$=[[r[l-2]].concat(r[l-1]),r[l]];break;case 25:this.$=[[r[l]],null];break;case 26:this.$=r[l];break;case 27:this.$=new s.StringNode(r[l]);break;case 28:this.$=new s.IntegerNode(r[l]);break;case 29:this.$=new s.BooleanNode(r[l]);break;case 30:this.$=r[l];break;case 31:this.$=new s.HashNode(r[l]);break;case 32:this.$=[r[l-2],r[l]];break;case 33:this.$=new s.PartialNameNode(r[l]);break;case 34:this.$=new s.PartialNameNode(new s.StringNode(r[l]));break;case 35:this.$=new s.PartialNameNode(new s.IntegerNode(r[l]));break;case 36:this.$=new s.DataNode(r[l]);break;case 37:this.$=new s.IdNode(r[l]);break;case 38:r[l-2].push({part:r[l],separator:r[l-1]}),this.$=r[l-2];break;case 39:this.$=[{part:r[l]}];break;case 42:this.$=[];break;case 43:r[l-1].push(r[l]);break;case 46:this.$=[r[l]];break;case 47:r[l-1].push(r[l])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],i=[null],s=[],o=this.table,r="",a=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,f,m,g,v,y,b,_,k={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null!==p&&void 0!==p||(p=function(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}()),m=o[f]&&o[f][p]),void 0===m||!m.length||!m[0]){var w="";if(!c){_=[];for(v in o[f])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");w=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(m[0]){case 1:n.push(p),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(m[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,r=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],k.$=i[i.length-y],k._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},h&&(k._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),void 0!==(g=this.performAction.call(k,r,l,a,this.yy,m[1],i,s)))return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),s=s.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(k.$),s.push(k._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,s;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length&&(!(n=this._input.match(this.rules[o[r]]))||e&&!(n[0].length>e[0].length)||(e=n,i=r,this.options.flex));r++);return e?((s=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function s(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&s(0,1),14;case 3:return s(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState(),this.begin("com");break;case 12:return s(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:case 16:return 38;case 17:return 42;case 18:break;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return e.yytext=s(1,2).replace(/\\"/g,'"'),32;case 22:return e.yytext=s(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:case 25:return 34;case 26:return 33;case 27:return 38;case 28:return e.yytext=s(1,2),38;case 29:return"INVALID";case 30:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}},t}();return n.lexer=i,e.prototype=n,n.Parser=e,new e}()}(),l=function(t,e){"use strict";var n={},i=a,s=r;return n.parser=i,n.parse=function(t){return t.constructor===s.ProgramNode?t:(i.yy=s,i.parse(t))},n}(),c=function(t){"use strict";function e(t){this.value=t}function n(){}var i=t.COMPILER_REVISION,s=t.REVISION_CHANGES,o=t.log;n.prototype={nameLookup:function(t,e){var i,s;return 0===t.indexOf("depth")&&(i=!0),s=/^[0-9]+$/.test(e)?t+"["+e+"]":n.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+s+")":s},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,n,i){this.environment=t,this.options=e||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s,r=t.opcodes;this.i=0;for(var a=r.length;this.i<a;this.i++)"DECLARE"===(s=r[this.i]).opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(i)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,n="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(n+=" data = data || {};"),t.push(n)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],a=0,l=this.environment.depths.list.length;a<l;a++)r.push("depth"+this.environment.depths.list[a]);var c=this.mergeSource();if(!this.isChild){var u=i;c="this.compilerInfo = ["+u+",'"+s[u]+"'];\n"+c}if(t)return r.push(c),Function.apply(this,r);var h="function "+(this.name||"")+"("+r.join(",")+") {\n  "+c+"}";return o("debug",h+"\n\n"),h},mergeSource:function(){for(var t,e="",n=0,i=this.source.length;n<i;n++){var s=this.source[n];s.appendToBuffer?t=t?t+"\n    + "+s.content:s.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=s+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(t,e,!0),i=this.nameLookup("depth"+this.lastContext,e,"context");this.push(n.name+" || "+i),this.replaceStack(function(t){return t+" ? "+t+".call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),o=this.nextStack();this.pushSource("if ("+o+" = "+i+") { "+o+" = "+o+".call("+n.callParams+"); }"),this.pushSource("else { "+o+" = "+s+"; "+o+" = typeof "+o+" === functionType ? "+o+".call("+n.callParams+") : "+o+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),n&&s.types.push("'"+t+"': "+n),s.values.push("'"+t+"': ("+i+")")},compiler:n,compileChildren:function(t,e){for(var n,i,s=t.children,o=0,r=s.length;o<r;o++){n=s[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,e,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,n=this.environment.children[t],i=n.depths.list,s=[n.index,n.name,"data"],o=0,r=i.length;o<r;o++)1===(e=i[o])?s.push("depth0"):s.push("depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new e(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var n,i="",s=this.isInline();if(s){var o=this.popStack(!0);if(o instanceof e)n=o.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(r)+" = "+o+"),",n=this.topStack()}}else n=this.topStack();var a=t.call(this,n);return s?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+a+")")):(/^stack/.test(n)||(n=this.nextStack()),this.pushSource(n+" = ("+i+a+");")),n},nextStack:function(){return this.pushStack()},incrStack:function(){return++this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var n=0,i=t.length;n<i;n++){var s=t[n];s instanceof e?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var n=this.isInline(),i=(n?this.inlineStack:this.compileStack).pop();return!t&&i instanceof e?i.value:(n||this.stackSlot--,i)},topStack:function(t){var n=this.isInline()?this.inlineStack:this.compileStack,i=n[n.length-1];return!t&&i instanceof e?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,n){var i=[];return this.setupParams(t,i,n),{params:i,name:this.nameLookup("helpers",e,"helper"),callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupParams:function(t,e,n){var i,s,o,r=[],a=[],l=[];r.push("hash:"+this.popStack()),s=this.popStack(),((o=this.popStack())||s)&&(o||(this.context.aliases.self="this",o="self.noop"),s||(this.context.aliases.self="this",s="self.noop"),r.push("inverse:"+s),r.push("fn:"+o));for(var c=0;c<t;c++)i=this.popStack(),e.push(i),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+l.join(",")+"]"),r.push("hashContexts:hashContexts"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",n?(this.register("options",r),e.push("options")):e.push(r),e.join(", ")}};for(var r="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),a=n.RESERVED_WORDS={},l=0,c=r.length;l<c;l++)a[r[l]]=!0;return n.isValidJavaScriptVariableName=function(t){return!(n.RESERVED_WORDS[t]||!/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t))},n}(i);return function(t,e,n,i,s){"use strict";var a=o,l=r,c=n.parser,u=n.parse,h=i.Compiler,p=i.compile,d=i.precompile,f=s,m=a.create,g=function(){var t=m();return t.compile=function(e,n){return p(e,n,t)},t.precompile=d,t.AST=l,t.Compiler=h,t.JavaScriptCompiler=f,t.Parser=c,t.parse=u,t};return a=g(),a.create=g,a}(0,0,l,function(t,e,i,s){"use strict";function o(){}var r={},a=n,c=l.parse,u=i,h=s;return r.Compiler=o,o.prototype={compiler:o,disassemble:function(){for(var t,e,n,i=this.opcodes,s=[],o=0,r=i.length;o<r;o++)if("DECLARE"===(t=i[o]).opcode)s.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)"string"==typeof(n=t.args[a])&&(n='"'+n.replace("\n","\\n")+'"'),e.push(n);s.push(t.opcode+" "+e.join(" "))}return s.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],s=t.opcodes[n];if(i.opcode!==s.opcode||i.args.length!==s.args.length)return!1;for(var o=0;o<i.args.length;o++)if(i.args[o]!==s.args[o])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},accept:function(t){var e,n=t.strip||{};return n.left&&this.opcode("strip"),e=this[t.type](t),n.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,n=0,i=e.length;n<i;n++)this.accept(e[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,n=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var s=0,o=n.depths.list.length;s<o;s++)(e=n.depths.list[s])<2||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,n=t.program,i=t.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var s=this.classifyMustache(e);"helper"===s?this.helperMustache(e,n,i):"simple"===s?(this.simpleMustache(e),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,n,i=t.pairs;this.opcode("pushHash");for(var s=0,o=i.length;s<o;s++)n=(e=i[s])[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,n=this.classifyMustache(t);"simple"===n?this.simpleMustache(t):"helper"===n?this.helperMustache(t):this.ambiguousMustache(t),t.escaped&&!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(t,e,n){var i=t.id,s=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",s,o)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+s);this.opcode("invokeHelper",i.length,s)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth),t.parts[0]?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var e=1,n=t.parts.length;e<n;e++)this.opcode("lookup",t.parts[e])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new a("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var e=t.id.parts,n=0,i=e.length;n<i;n++)this.opcode("lookup",e[n])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,n=t.eligibleHelper,i=this.options;if(n&&!e){var s=t.id.parts[0];i.knownHelpers[s]?e=!0:i.knownHelpersOnly&&(n=!1)}return e?"helper":n?"ambiguous":"simple"},pushParams:function(t){for(var e,n=t.length;n--;)e=t[n],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,n){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}},r.precompile=function(t,e){if(null==t||"string"!=typeof t&&t.constructor!==h.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var n=c(t),i=(new o).compile(n,e);return(new u).compile(i,e)},r.compile=function(t,e,n){function i(){var i=c(t),s=(new o).compile(i,e),r=(new u).compile(s,e,void 0,!0);return n.template(r)}if(null==t||"string"!=typeof t&&t.constructor!==h.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var s;return function(t,e){return s||(s=i()),s.call(this,t,e)}},r}(0,0,c,r),c)}();(function(){function t(t,e,n){n=(n||0)-1;for(var i=t?t.length:0;++n<i;)if(t[n]===e)return n;return-1}function e(e,n){var i=typeof n;if(e=e.l,"boolean"==i||null==n)return e[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var s="number"==i?n:v+n;return e=(e=e[i])&&e[s],"object"==i?e&&-1<t(e,n)?0:-1:e?0:-1}function n(t){var e=this.l,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:v+t,e=e[n]||(e[n]={});"object"==n?(e[i]||(e[i]=[])).push(t):e[i]=!0}}function i(t){return t.charCodeAt(0)}function s(t,e){for(var n=t.m,i=e.m,s=-1,o=n.length;++s<o;){var r=n[s],a=i[s];if(r!==a){if(r>a||void 0===r)return 1;if(r<a||void 0===a)return-1}}return t.n-e.n}function o(t){var e=-1,i=t.length,s=t[0],o=t[i/2|0],r=t[i-1];if(s&&"object"==typeof s&&o&&"object"==typeof o&&r&&"object"==typeof r)return!1;for((s=l()).false=s.null=s.true=s.undefined=!1,(o=l()).k=t,o.l=s,o.push=n;++e<i;)o.push(t[e]);return o}function r(t){return"\\"+K[t]}function a(){return f.pop()||[]}function l(){return m.pop()||{k:null,l:null,m:null,false:!1,n:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,o:null}}function c(t){t.length=0,f.length<b&&f.push(t)}function u(t){var e=t.l;e&&u(e),t.k=t.l=t.m=t.object=t.number=t.string=t.o=null,m.length<b&&m.push(t)}function h(t,e,n){e||(e=0),void 0===n&&(n=t?t.length:0);var i=-1;n=n-e||0;for(var s=Array(0>n?0:n);++i<n;)s[i]=t[e+i];return s}function p(n){function f(t,e,n){if(!t||!G[typeof t])return t;e=e&&void 0===n?e:tt(e,n,3);for(var i=-1,s=G[typeof t]&&Ae(t),o=s?s.length:0;++i<o&&(n=s[i],!1!==e(t[n],n,t)););return t}function m(t,e,n){var i;if(!t||!G[typeof t])return t;e=e&&void 0===n?e:tt(e,n,3);for(i in t)if(!1===e(t[i],i,t))break;return t}function b(t,e,n){var i,s=t,o=s;if(!s)return o;for(var r=arguments,a=0,l="number"==typeof n?2:r.length;++a<l;)if((s=r[a])&&G[typeof s])for(var c=-1,u=G[typeof s]&&Ae(s),h=u?u.length:0;++c<h;)i=u[c],void 0===o[i]&&(o[i]=s[i]);return o}function K(t,e,n){var i,s=t,o=s;if(!s)return o;var r=arguments,a=0,l="number"==typeof n?2:r.length;if(3<l&&"function"==typeof r[l-2])var c=tt(r[--l-1],r[l--],2);else 2<l&&"function"==typeof r[l-1]&&(c=r[--l]);for(;++a<l;)if((s=r[a])&&G[typeof s])for(var u=-1,h=G[typeof s]&&Ae(s),p=h?h.length:0;++u<p;)i=h[u],o[i]=c?c(o[i],s[i]):s[i];return o}function Y(t){return t&&"object"==typeof t&&!Le(t)&&ge.call(t,"__wrapped__")?t:new z(t)}function z(t,e){this.__chain__=!!e,this.__wrapped__=t}function J(t){function e(){if(i){var t=h(i);ve.apply(t,arguments)}if(this instanceof e){var o=X(n.prototype);return _t(t=n.apply(o,t||arguments))?t:o}return n.apply(s,t||arguments)}var n=t[0],i=t[2],s=t[4];return Me(e,t),e}function Q(t,e,n,i,s){if(n){var o=n(t);if(void 0!==o)return o}if(!_t(t))return t;var r=ce.call(t);if(!V[r])return t;var l=Te[r];switch(r){case A:case O:return new l(+t);case D:case B:return new l(t);case R:return o=l(t.source,S.exec(t)),o.lastIndex=t.lastIndex,o}if(r=Le(t),e){var u=!i;i||(i=a()),s||(s=a());for(var p=i.length;p--;)if(i[p]==t)return s[p];o=r?l(t.length):{}}else o=r?h(t):K({},t);return r&&(ge.call(t,"index")&&(o.index=t.index),ge.call(t,"input")&&(o.input=t.input)),e?(i.push(t),s.push(o),(r?Et:f)(t,function(t,r){o[r]=Q(t,e,n,i,s)}),u&&(c(i),c(s)),o):o}function X(t){return _t(t)?we(t):{}}function tt(t,e,n){if("function"!=typeof t)return Gt;if(void 0===e||!("prototype"in t))return t;var i=t.__bindData__;if(void 0===i&&(He.funcNames&&(i=!t.name),!(i=i||!He.funcDecomp))){var s=fe.call(t);He.funcNames||(i=!x.test(s)),i||(i=N.test(s),Me(t,i))}if(!1===i||!0!==i&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)};case 4:return function(n,i,s,o){return t.call(e,n,i,s,o)}}return Ut(t,e)}function et(t){function e(){var t=l?r:this;if(s){var f=h(s);ve.apply(f,arguments)}return(o||u)&&(f||(f=h(arguments)),o&&ve.apply(f,o),u&&f.length<a)?(i|=16,et([n,p?i:-4&i,f,null,r,a])):(f||(f=arguments),c&&(n=t[d]),this instanceof e?(t=X(n.prototype),f=n.apply(t,f),_t(f)?f:t):n.apply(t,f))}var n=t[0],i=t[1],s=t[2],o=t[3],r=t[4],a=t[5],l=1&i,c=2&i,u=4&i,p=8&i,d=n;return Me(e,t),e}function nt(n,i){var s=-1,r=ht(),a=n?n.length:0,l=a>=y&&r===t,c=[];if(l){var h=o(i);h?(r=e,i=h):l=!1}for(;++s<a;)h=n[s],0>r(i,h)&&c.push(h);return l&&u(i),c}function it(t,e,n,i){i=(i||0)-1;for(var s=t?t.length:0,o=[];++i<s;){var r=t[i];if(r&&"object"==typeof r&&"number"==typeof r.length&&(Le(r)||mt(r))){e||(r=it(r,e,n));var a=-1,l=r.length,c=o.length;for(o.length+=l;++a<l;)o[c++]=r[a]}else n||o.push(r)}return o}function st(t,e,n,i,s,o){if(n&&void 0!==(d=n(t,e)))return!!d;if(t===e)return 0!==t||1/t==1/e;if(t===t&&!(t&&G[typeof t]||e&&G[typeof e]))return!1;if(null==t||null==e)return t===e;var r=ce.call(t),l=ce.call(e);if(r==M&&(r=F),l==M&&(l=F),r!=l)return!1;switch(r){case A:case O:return+t==+e;case D:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case R:case B:return t==se(e)}if(!(l=r==L)){var u=ge.call(t,"__wrapped__"),h=ge.call(e,"__wrapped__");if(u||h)return st(u?t.__wrapped__:t,h?e.__wrapped__:e,n,i,s,o);if(r!=F)return!1;if(r=t.constructor,u=e.constructor,r!=u&&!(bt(r)&&r instanceof r&&bt(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}for(r=!s,s||(s=a()),o||(o=a()),u=s.length;u--;)if(s[u]==t)return o[u]==e;var p=0,d=!0;if(s.push(t),o.push(e),l){if(u=t.length,p=e.length,(d=p==u)||i)for(;p--;)if(l=u,h=e[p],i)for(;l--&&!(d=st(t[l],h,n,i,s,o)););else if(!(d=st(t[p],h,n,i,s,o)))break}else m(e,function(e,r,a){return ge.call(a,r)?(p++,d=ge.call(t,r)&&st(t[r],e,n,i,s,o)):void 0}),d&&!i&&m(t,function(t,e,n){return ge.call(n,e)?d=-1<--p:void 0});return s.pop(),o.pop(),r&&(c(s),c(o)),d}function ot(t,e,n,i,s){(Le(e)?Et:f)(e,function(e,o){var r,a,l=e,c=t[o];if(e&&((a=Le(e))||Re(e))){for(l=i.length;l--;)if(r=i[l]==e){c=s[l];break}if(!r){var u;n&&(l=n(c,e),u=void 0!==l)&&(c=l),u||(c=a?Le(c)?c:[]:Re(c)?c:{}),i.push(e),s.push(c),u||ot(c,e,n,i,s)}}else n&&void 0===(l=n(c,e))&&(l=e),void 0!==l&&(c=l);t[o]=c})}function rt(t,e){return t+de(Ne()*(e-t+1))}function at(n,i,s){var r=-1,l=ht(),h=n?n.length:0,p=[],d=!i&&h>=y&&l===t,f=s||d?a():p;for(d&&(f=o(f),l=e);++r<h;){var m=n[r],g=s?s(m,r,n):m;(i?!r||f[f.length-1]!==g:0>l(f,g))&&((s||d)&&f.push(g),p.push(m))}return d?(c(f.k),u(f)):s&&c(f),p}function lt(t){return function(e,n,i){var s={};n=Y.createCallback(n,i,3),i=-1;var o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var r=e[i];t(s,r,n(r,i,e),e)}else f(e,function(e,i,o){t(s,e,n(e,i,o),o)});return s}}function ct(t,e,n,i,s,o){var r=1&e,a=4&e,l=16&e,c=32&e;if(!(2&e||bt(t)))throw new oe;l&&!n.length&&(e&=-17,l=n=!1),c&&!i.length&&(e&=-33,c=i=!1);var u=t&&t.__bindData__;return u&&!0!==u?((u=h(u))[2]&&(u[2]=h(u[2])),u[3]&&(u[3]=h(u[3])),!r||1&u[1]||(u[4]=s),!r&&1&u[1]&&(e|=8),!a||4&u[1]||(u[5]=o),l&&ve.apply(u[2]||(u[2]=[]),n),c&&_e.apply(u[3]||(u[3]=[]),i),u[1]|=e,ct.apply(null,u)):(1==e||17===e?J:et)([t,e,n,i,s,o])}function ut(t){return Oe[t]}function ht(){var e=(e=Y.indexOf)===It?t:e;return e}function pt(t){return"function"==typeof t&&ue.test(t)}function dt(t){var e,n;return!!(t&&ce.call(t)==F&&(e=t.constructor,!bt(e)||e instanceof e))&&(m(t,function(t,e){n=e}),void 0===n||ge.call(t,n))}function ft(t){return Ie[t]}function mt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ce.call(t)==M||!1}function gt(t,e,n){var i=Ae(t),s=i.length;for(e=tt(e,n,3);s--&&(n=i[s],!1!==e(t[n],n,t)););return t}function vt(t){var e=[];return m(t,function(t,n){bt(t)&&e.push(n)}),e.sort()}function yt(t){for(var e=-1,n=Ae(t),i=n.length,s={};++e<i;){var o=n[e];s[t[o]]=o}return s}function bt(t){return"function"==typeof t}function _t(t){return!(!t||!G[typeof t])}function kt(t){return"number"==typeof t||t&&"object"==typeof t&&ce.call(t)==D||!1}function wt(t){return"string"==typeof t||t&&"object"==typeof t&&ce.call(t)==B||!1}function $t(t){for(var e=-1,n=Ae(t),i=n.length,s=Jt(i);++e<i;)s[e]=t[n[e]];return s}function Ct(t,e,n){var i=-1,s=ht(),o=t?t.length:0,r=!1;return n=(0>n?je(0,o+n):n)||0,Le(t)?r=-1<s(t,e,n):"number"==typeof o?r=-1<(wt(t)?t.indexOf(e,n):s(t,e,n)):f(t,function(t){return++i<n?void 0:!(r=t===e)}),r}function St(t,e,n){var i=!0;e=Y.createCallback(e,n,3),n=-1;var s=t?t.length:0;if("number"==typeof s)for(;++n<s&&(i=!!e(t[n],n,t)););else f(t,function(t,n,s){return i=!!e(t,n,s)});return i}function xt(t,e,n){var i=[];e=Y.createCallback(e,n,3),n=-1;var s=t?t.length:0;if("number"==typeof s)for(;++n<s;){var o=t[n];e(o,n,t)&&i.push(o)}else f(t,function(t,n,s){e(t,n,s)&&i.push(t)});return i}function jt(t,e,n){e=Y.createCallback(e,n,3),n=-1;var i=t?t.length:0;if("number"!=typeof i){var s;return f(t,function(t,n,i){return e(t,n,i)?(s=t,!1):void 0}),s}for(;++n<i;){var o=t[n];if(e(o,n,t))return o}}function Et(t,e,n){var i=-1,s=t?t.length:0;if(e=e&&void 0===n?e:tt(e,n,3),"number"==typeof s)for(;++i<s&&!1!==e(t[i],i,t););else f(t,e);return t}function Pt(t,e,n){s=t?t.length:0;if(e=e&&void 0===n?e:tt(e,n,3),"number"==typeof s)for(;s--&&!1!==e(t[s],s,t););else{var i=Ae(t),s=i.length;f(t,function(t,n,o){return n=i?i[--s]:--s,e(o[n],n,o)})}return t}function Nt(t,e,n){var i=-1,s=t?t.length:0;if(e=Y.createCallback(e,n,3),"number"==typeof s)for(var o=Jt(s);++i<s;)o[i]=e(t[i],i,t);else o=[],f(t,function(t,n,s){o[++i]=e(t,n,s)});return o}function Tt(t,e,n){var s=-1/0,o=s;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&Le(t)){n=-1;for(var r=t.length;++n<r;){var a=t[n];a>o&&(o=a)}}else e=null==e&&wt(t)?i:Y.createCallback(e,n,3),Et(t,function(t,n,i){(n=e(t,n,i))>s&&(s=n,o=t)});return o}function Ht(t,e,n,i){if(!t)return n;var s=3>arguments.length;e=Y.createCallback(e,i,4);var o=-1,r=t.length;if("number"==typeof r)for(s&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);else f(t,function(t,i,o){n=s?(s=!1,t):e(n,t,i,o)});return n}function Mt(t,e,n,i){var s=3>arguments.length;return e=Y.createCallback(e,i,4),Pt(t,function(t,i,o){n=s?(s=!1,t):e(n,t,i,o)}),n}function Lt(t){var e=-1,n=t?t.length:0,i=Jt("number"==typeof n?n:0);return Et(t,function(t){var n=rt(0,++e);i[e]=i[n],i[n]=t}),i}function At(t,e,n){var i;e=Y.createCallback(e,n,3),n=-1;var s=t?t.length:0;if("number"==typeof s)for(;++n<s&&!(i=e(t[n],n,t)););else f(t,function(t,n,s){return!(i=e(t,n,s))});return!!i}function Ot(t,e,n){var i=0,s=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=Y.createCallback(e,n,3);++o<s&&e(t[o],o,t);)i++}else if(null==(i=e)||n)return t?t[0]:d;return h(t,0,Ee(je(0,i),s))}function It(e,n,i){if("number"==typeof i){var s=e?e.length:0;i=0>i?je(0,s+i):i||0}else if(i)return i=Ft(e,n),e[i]===n?i:-1;return t(e,n,i)}function Dt(t,e,n){if("number"!=typeof e&&null!=e){var i=0,s=-1,o=t?t.length:0;for(e=Y.createCallback(e,n,3);++s<o&&e(t[s],s,t);)i++}else i=null==e||n?1:je(0,e);return h(t,i)}function Ft(t,e,n,i){var s=0,o=t?t.length:s;for(e=(n=n?Y.createCallback(n,i,1):Gt)(e);s<o;)i=s+o>>>1,n(t[i])<e?s=i+1:o=i;return s}function Rt(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(n=Y.createCallback(n,i,3)),at(t,e,n)}function Bt(){for(var t=1<arguments.length?arguments:arguments[0],e=-1,n=t?Tt(qe(t,"length")):0,i=Jt(0>n?0:n);++e<n;)i[e]=qe(t,e);return i}function Vt(t,e){var n=-1,i=t?t.length:0,s={};for(e||!i||Le(t[0])||(e=[]);++n<i;){var o=t[n];e?s[o]=e[n]:o&&(s[o[0]]=o[1])}return s}function Ut(t,e){return 2<arguments.length?ct(t,17,h(arguments,2),null,e):ct(t,1,null,null,e)}function qt(t,e,n){function i(){u&&pe(u),r=u=h=d,(m||f!==e)&&(p=Ge(),a=t.apply(c,o),u||r||(o=c=null))}function s(){var n=e-(Ge()-l);0<n?u=ye(s,n):(r&&pe(r),n=h,r=u=h=d,n&&(p=Ge(),a=t.apply(c,o),u||r||(o=c=null)))}var o,r,a,l,c,u,h,p=0,f=!1,m=!0;if(!bt(t))throw new oe;if(e=je(0,e)||0,!0===n)var g=!0,m=!1;else _t(n)&&(g=n.leading,f="maxWait"in n&&(je(e,n.maxWait)||0),m="trailing"in n?n.trailing:m);return function(){if(o=arguments,l=Ge(),c=this,h=m&&(u||!g),!1===f)var n=g&&!u;else{r||g||(p=l);var d=f-(l-p),v=0>=d;v?(r&&(r=pe(r)),p=l,a=t.apply(c,o)):r||(r=ye(i,d))}return v&&u?u=pe(u):u||e===f||(u=ye(s,e)),n&&(v=!0,a=t.apply(c,o)),!v||u||r||(o=c=null),a}}function Gt(t){return t}function Kt(t,e,n){var i=!0,s=e&&vt(e);e&&(n||s.length)||(null==n&&(n=e),o=z,e=t,t=Y,s=vt(e)),!1===n?i=!1:_t(n)&&"chain"in n&&(i=n.chain);var o=t,r=bt(o);Et(s,function(n){var s=t[n]=e[n];r&&(o.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,r=[n];if(ve.apply(r,arguments),r=s.apply(t,r),i||e){if(n===r&&_t(r))return this;(r=new o(r)).__chain__=e}return r})})}function Wt(){}function Yt(t){return function(e){return e[t]}}function zt(){return this.__wrapped__}var Jt=(n=n?Z.defaults(W.Object(),n,Z.pick(W,H)):W).Array,Qt=n.Boolean,Zt=n.Date,Xt=n.Function,te=n.Math,ee=n.Number,ne=n.Object,ie=n.RegExp,se=n.String,oe=n.TypeError,re=[],ae=ne.prototype,le=n._,ce=ae.toString,ue=ie("^"+se(ce).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),he=te.ceil,pe=n.clearTimeout,de=te.floor,fe=Xt.prototype.toString,me=pt(me=ne.getPrototypeOf)&&me,ge=ae.hasOwnProperty,ve=re.push,ye=n.setTimeout,be=re.splice,_e=re.unshift,ke=function(){try{var t={},e=pt(e=ne.defineProperty)&&e,n=e(t,t,t)&&e}catch(t){}return n}(),we=pt(we=ne.create)&&we,$e=pt($e=Jt.isArray)&&$e,Ce=n.isFinite,Se=n.isNaN,xe=pt(xe=ne.keys)&&xe,je=te.max,Ee=te.min,Pe=n.parseInt,Ne=te.random,Te={};Te[L]=Jt,Te[A]=Qt,Te[O]=Zt,Te[I]=Xt,Te[F]=ne,Te[D]=ee,Te[R]=ie,Te[B]=se,z.prototype=Y.prototype;var He=Y.support={};He.funcDecomp=!pt(n.a)&&N.test(p),He.funcNames="string"==typeof Xt.name,Y.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:j,variable:"",imports:{_:Y}},we||(X=function(){function t(){}return function(e){if(_t(e)){t.prototype=e;var i=new t;t.prototype=null}return i||n.Object()}}());var Me=ke?function(t,e){q.value=e,ke(t,"__bindData__",q)}:Wt,Le=$e||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ce.call(t)==L||!1},Ae=xe?function(t){return _t(t)?xe(t):[]}:function(t){var e,n=[];if(!t||!G[typeof t])return n;for(e in t)ge.call(t,e)&&n.push(e);return n},Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ie=yt(Oe),De=ie("("+Ae(Ie).join("|")+")","g"),Fe=ie("["+Ae(Oe).join("")+"]","g"),Re=me?function(t){if(!t||ce.call(t)!=F)return!1;var e=t.valueOf,n=pt(e)&&(n=me(e))&&me(n);return n?t==n||me(t)==n:dt(t)}:dt,Be=lt(function(t,e,n){ge.call(t,n)?t[n]++:t[n]=1}),Ve=lt(function(t,e,n){(ge.call(t,n)?t[n]:t[n]=[]).push(e)}),Ue=lt(function(t,e,n){t[n]=e}),qe=Nt,Ge=pt(Ge=Zt.now)&&Ge||function(){return(new Zt).getTime()},Ke=8==Pe(_+"08")?Pe:function(t,e){return Pe(wt(t)?t.replace(E,""):t,e||0)};return Y.after=function(t,e){if(!bt(e))throw new oe;return function(){return 1>--t?e.apply(this,arguments):void 0}},Y.assign=K,Y.at=function(t){for(var e=-1,n=it(i=arguments,!0,!1,1),i=i[2]&&i[2][i[1]]===t?1:n.length,s=Jt(i);++e<i;)s[e]=t[n[e]];return s},Y.bind=Ut,Y.bindAll=function(t){for(var e=1<arguments.length?it(arguments,!0,!1,1):vt(t),n=-1,i=e.length;++n<i;){var s=e[n];t[s]=ct(t[s],1,null,null,t)}return t},Y.bindKey=function(t,e){return 2<arguments.length?ct(e,19,h(arguments,2),null,t):ct(e,3,null,null,t)},Y.chain=function(t){return t=new z(t),t.__chain__=!0,t},Y.compact=function(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var s=t[e];s&&i.push(s)}return i},Y.compose=function(){for(var t=arguments,e=t.length;e--;)if(!bt(t[e]))throw new oe;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}},Y.constant=function(t){return function(){return t}},Y.countBy=Be,Y.create=function(t,e){var n=X(t);return e?K(n,e):n},Y.createCallback=function(t,e,n){var i=typeof t;if(null==t||"function"==i)return tt(t,e,n);if("object"!=i)return Yt(t);var s=Ae(t),o=s[0],r=t[o];return 1!=s.length||r!==r||_t(r)?function(e){for(var n=s.length,i=!1;n--&&(i=st(e[s[n]],t[s[n]],null,!0)););return i}:function(t){return t=t[o],r===t&&(0!==r||1/r==1/t)}},Y.curry=function(t,e){return e="number"==typeof e?e:+e||t.length,ct(t,4,null,null,null,e)},Y.debounce=qt,Y.defaults=b,Y.defer=function(t){if(!bt(t))throw new oe;var e=h(arguments,1);return ye(function(){t.apply(d,e)},1)},Y.delay=function(t,e){if(!bt(t))throw new oe;var n=h(arguments,2);return ye(function(){t.apply(d,n)},e)},Y.difference=function(t){return nt(t,it(arguments,!0,!0,1))},Y.filter=xt,Y.flatten=function(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=Nt(t,n,i)),it(t,e)},Y.forEach=Et,Y.forEachRight=Pt,Y.forIn=m,Y.forInRight=function(t,e,n){var i=[];m(t,function(t,e){i.push(e,t)});var s=i.length;for(e=tt(e,n,3);s--&&!1!==e(i[s--],i[s],t););return t},Y.forOwn=f,Y.forOwnRight=gt,Y.functions=vt,Y.groupBy=Ve,Y.indexBy=Ue,Y.initial=function(t,e,n){var i=0,s=t?t.length:0;if("number"!=typeof e&&null!=e){var o=s;for(e=Y.createCallback(e,n,3);o--&&e(t[o],o,t);)i++}else i=null==e||n?1:e||i;return h(t,0,Ee(je(0,s-i),s))},Y.intersection=function(){for(var n=[],i=-1,s=arguments.length,r=a(),l=ht(),h=l===t,p=a();++i<s;){v=arguments[i];(Le(v)||mt(v))&&(n.push(v),r.push(h&&v.length>=y&&o(i?n[i]:p)))}var d=-1,f=(h=n[0])?h.length:0,m=[];t:for(;++d<f;){var g=r[0],v=h[d];if(0>(g?e(g,v):l(p,v))){for(i=s,(g||p).push(v);--i;)if(0>((g=r[i])?e(g,v):l(n[i],v)))continue t;m.push(v)}}for(;s--;)(g=r[s])&&u(g);return c(r),c(p),m},Y.invert=yt,Y.invoke=function(t,e){var n=h(arguments,2),i=-1,s="function"==typeof e,o=t?t.length:0,r=Jt("number"==typeof o?o:0);return Et(t,function(t){r[++i]=(s?e:t[e]).apply(t,n)}),r},Y.keys=Ae,Y.map=Nt,Y.mapValues=function(t,e,n){var i={};return e=Y.createCallback(e,n,3),f(t,function(t,n,s){i[n]=e(t,n,s)}),i},Y.max=Tt,Y.memoize=function(t,e){function n(){var i=n.cache,s=e?e.apply(this,arguments):v+arguments[0];return ge.call(i,s)?i[s]:i[s]=t.apply(this,arguments)}if(!bt(t))throw new oe;return n.cache={},n},Y.merge=function(t){var e=arguments,n=2;if(!_t(t))return t;if("number"!=typeof e[2]&&(n=e.length),3<n&&"function"==typeof e[n-2])var i=tt(e[--n-1],e[n--],2);else 2<n&&"function"==typeof e[n-1]&&(i=e[--n]);for(var e=h(arguments,1,n),s=-1,o=a(),r=a();++s<n;)ot(t,e[s],i,o,r);return c(o),c(r),t},Y.min=function(t,e,n){var s=1/0,o=s;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&Le(t)){n=-1;for(var r=t.length;++n<r;){var a=t[n];a<o&&(o=a)}}else e=null==e&&wt(t)?i:Y.createCallback(e,n,3),Et(t,function(t,n,i){(n=e(t,n,i))<s&&(s=n,o=t)});return o},Y.omit=function(t,e,n){var i={};if("function"!=typeof e){var s=[];m(t,function(t,e){s.push(e)});for(var o=-1,r=(s=nt(s,it(arguments,!0,!1,1))).length;++o<r;){var a=s[o];i[a]=t[a]}}else e=Y.createCallback(e,n,3),m(t,function(t,n,s){e(t,n,s)||(i[n]=t)});return i},Y.once=function(t){var e,n;if(!bt(t))throw new oe;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},Y.pairs=function(t){for(var e=-1,n=Ae(t),i=n.length,s=Jt(i);++e<i;){var o=n[e];s[e]=[o,t[o]]}return s},Y.partial=function(t){return ct(t,16,h(arguments,1))},Y.partialRight=function(t){return ct(t,32,null,h(arguments,1))},Y.pick=function(t,e,n){var i={};if("function"!=typeof e)for(var s=-1,o=it(arguments,!0,!1,1),r=_t(t)?o.length:0;++s<r;){var a=o[s];a in t&&(i[a]=t[a])}else e=Y.createCallback(e,n,3),m(t,function(t,n,s){e(t,n,s)&&(i[n]=t)});return i},Y.pluck=qe,Y.property=Yt,Y.pull=function(t){for(var e=arguments,n=0,i=e.length,s=t?t.length:0;++n<i;)for(var o=-1,r=e[n];++o<s;)t[o]===r&&(be.call(t,o--,1),s--);return t},Y.range=function(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);var i=-1;e=je(0,he((e-t)/(n||1)));for(var s=Jt(e);++i<e;)s[i]=t,t+=n;return s},Y.reject=function(t,e,n){return e=Y.createCallback(e,n,3),xt(t,function(t,n,i){return!e(t,n,i)})},Y.remove=function(t,e,n){var i=-1,s=t?t.length:0,o=[];for(e=Y.createCallback(e,n,3);++i<s;)n=t[i],e(n,i,t)&&(o.push(n),be.call(t,i--,1),s--);return o},Y.rest=Dt,Y.shuffle=Lt,Y.sortBy=function(t,e,n){var i=-1,o=Le(e),r=t?t.length:0,h=Jt("number"==typeof r?r:0);for(o||(e=Y.createCallback(e,n,3)),Et(t,function(t,n,s){var r=h[++i]=l();o?r.m=Nt(e,function(e){return t[e]}):(r.m=a())[0]=e(t,n,s),r.n=i,r.o=t}),r=h.length,h.sort(s);r--;)t=h[r],h[r]=t.o,o||c(t.m),u(t);return h},Y.tap=function(t,e){return e(t),t},Y.throttle=function(t,e,n){var i=!0,s=!0;if(!bt(t))throw new oe;return!1===n?i=!1:_t(n)&&(i="leading"in n?n.leading:i,s="trailing"in n?n.trailing:s),U.leading=i,U.maxWait=e,U.trailing=s,qt(t,e,U)},Y.times=function(t,e,n){t=-1<(t=+t)?t:0;var i=-1,s=Jt(t);for(e=tt(e,n,1);++i<t;)s[i]=e(i);return s},Y.toArray=function(t){return t&&"number"==typeof t.length?h(t):$t(t)},Y.transform=function(t,e,n,i){var s=Le(t);if(null==n)if(s)n=[];else{var o=t&&t.constructor;n=X(o&&o.prototype)}return e&&(e=Y.createCallback(e,i,4),(s?Et:f)(t,function(t,i,s){return e(n,t,i,s)})),n},Y.union=function(){return at(it(arguments,!0,!0))},Y.uniq=Rt,Y.values=$t,Y.where=xt,Y.without=function(t){return nt(t,h(arguments,1))},Y.wrap=function(t,e){return ct(e,16,[t])},Y.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Le(n)||mt(n))var i=i?at(nt(i,n).concat(nt(n,i))):n}return i||[]},Y.zip=Bt,Y.zipObject=Vt,Y.collect=Nt,Y.drop=Dt,Y.each=Et,Y.eachRight=Pt,Y.extend=K,Y.methods=vt,Y.object=Vt,Y.select=xt,Y.tail=Dt,Y.unique=Rt,Y.unzip=Bt,Kt(Y),Y.clone=function(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),Q(t,e,"function"==typeof n&&tt(n,i,1))},Y.cloneDeep=function(t,e,n){return Q(t,!0,"function"==typeof e&&tt(e,n,1))},Y.contains=Ct,Y.escape=function(t){return null==t?"":se(t).replace(Fe,ut)},Y.every=St,Y.find=jt,Y.findIndex=function(t,e,n){var i=-1,s=t?t.length:0;for(e=Y.createCallback(e,n,3);++i<s;)if(e(t[i],i,t))return i;return-1},Y.findKey=function(t,e,n){var i;return e=Y.createCallback(e,n,3),f(t,function(t,n,s){return e(t,n,s)?(i=n,!1):void 0}),i},Y.findLast=function(t,e,n){var i;return e=Y.createCallback(e,n,3),Pt(t,function(t,n,s){return e(t,n,s)?(i=t,!1):void 0}),i},Y.findLastIndex=function(t,e,n){var i=t?t.length:0;for(e=Y.createCallback(e,n,3);i--;)if(e(t[i],i,t))return i;return-1},Y.findLastKey=function(t,e,n){var i;return e=Y.createCallback(e,n,3),gt(t,function(t,n,s){return e(t,n,s)?(i=n,!1):void 0}),i},Y.has=function(t,e){return!!t&&ge.call(t,e)},Y.identity=Gt,Y.indexOf=It,Y.isArguments=mt,Y.isArray=Le,Y.isBoolean=function(t){return!0===t||!1===t||t&&"object"==typeof t&&ce.call(t)==A||!1},Y.isDate=function(t){return t&&"object"==typeof t&&ce.call(t)==O||!1},Y.isElement=function(t){return t&&1===t.nodeType||!1},Y.isEmpty=function(t){var e=!0;if(!t)return e;var n=ce.call(t),i=t.length;return n==L||n==B||n==M||n==F&&"number"==typeof i&&bt(t.splice)?!i:(f(t,function(){return e=!1}),e)},Y.isEqual=function(t,e,n,i){return st(t,e,"function"==typeof n&&tt(n,i,2))},Y.isFinite=function(t){return Ce(t)&&!Se(parseFloat(t))},Y.isFunction=bt,Y.isNaN=function(t){return kt(t)&&t!=+t},Y.isNull=function(t){return null===t},Y.isNumber=kt,Y.isObject=_t,Y.isPlainObject=Re,Y.isRegExp=function(t){return t&&"object"==typeof t&&ce.call(t)==R||!1},Y.isString=wt,Y.isUndefined=function(t){return void 0===t},Y.lastIndexOf=function(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?je(0,i+n):Ee(n,i-1))+1);i--;)if(t[i]===e)return i;return-1},Y.mixin=Kt,Y.noConflict=function(){return n._=le,this},Y.noop=Wt,Y.now=Ge,Y.parseInt=Ke,Y.random=function(t,e,n){var i=null==t,s=null==e;return null==n&&("boolean"==typeof t&&s?(n=t,t=1):s||"boolean"!=typeof e||(n=e,s=!0)),i&&s&&(e=1),t=+t||0,s?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=Ne(),Ee(t+n*(e-t+parseFloat("1e-"+((n+"").length-1))),e)):rt(t,e)},Y.reduce=Ht,Y.reduceRight=Mt,Y.result=function(t,e){if(t){var n=t[e];return bt(n)?t[e]():n}},Y.runInContext=p,Y.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:Ae(t).length},Y.some=At,Y.sortedIndex=Ft,Y.template=function(t,e,n){o=Y.templateSettings;t=se(t||"");var i,s=b({},(n=b({},n,o)).imports,o.imports),o=Ae(s),s=$t(s),a=0,l=n.interpolate||P,c="__p+='",l=ie((n.escape||P).source+"|"+l.source+"|"+(l===j?C:P).source+"|"+(n.evaluate||P).source+"|$","g");t.replace(l,function(e,n,s,o,l,u){return s||(s=o),c+=t.slice(a,u).replace(T,r),n&&(c+="'+__e("+n+")+'"),l&&(i=!0,c+="';"+l+";\n__p+='"),s&&(c+="'+((__t=("+s+"))==null?'':__t)+'"),a=u+e.length,e}),c+="';",(l=n=n.variable)||(n="obj",c="with("+n+"){"+c+"}"),c=(i?c.replace(k,""):c).replace(w,"$1").replace($,"$1;"),c="function("+n+"){"+(l?"":n+"||("+n+"={});")+"var __t,__p='',__e=_.escape"+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}";try{var u=Xt(o,"return "+c).apply(d,s)}catch(t){throw t.source=c,t}return e?u(e):(u.source=c,u)},Y.unescape=function(t){return null==t?"":se(t).replace(De,ft)},Y.uniqueId=function(t){var e=++g;return se(null==t?"":t)+e},Y.all=St,Y.any=At,Y.detect=jt,Y.findWhere=jt,Y.foldl=Ht,Y.foldr=Mt,Y.include=Ct,Y.inject=Ht,Kt(function(){var t={};return f(Y,function(e,n){Y.prototype[n]||(t[n]=e)}),t}(),!1),Y.first=Ot,Y.last=function(t,e,n){var i=0,s=t?t.length:0;if("number"!=typeof e&&null!=e){var o=s;for(e=Y.createCallback(e,n,3);o--&&e(t[o],o,t);)i++}else if(null==(i=e)||n)return t?t[s-1]:d;return h(t,je(0,s-i))},Y.sample=function(t,e,n){return t&&"number"!=typeof t.length&&(t=$t(t)),null==e||n?t?t[rt(0,t.length-1)]:d:(t=Lt(t),t.length=Ee(je(0,e),t.length),t)},Y.take=Ot,Y.head=Ot,f(Y,function(t,e){var n="sample"!==e;Y.prototype[e]||(Y.prototype[e]=function(e,i){var s=this.__chain__,o=t(this.__wrapped__,e,i);return s||null!=e&&(!i||n&&"function"==typeof e)?new z(o,s):o})}),Y.VERSION="2.4.1",Y.prototype.chain=function(){return this.__chain__=!0,this},Y.prototype.toString=function(){return se(this.__wrapped__)},Y.prototype.value=zt,Y.prototype.valueOf=zt,Et(["join","pop","shift"],function(t){var e=re[t];Y.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new z(n,t):n}}),Et(["push","reverse","sort","unshift"],function(t){var e=re[t];Y.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Et(["concat","slice","splice"],function(t){var e=re[t];Y.prototype[t]=function(){return new z(e.apply(this.__wrapped__,arguments),this.__chain__)}}),Y}var d,f=[],m=[],g=0,v=+new Date+"",y=75,b=40,_=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",k=/\b__p\+='';/g,w=/\b(__p\+=)''\+/g,$=/(__e\(.*?\)|\b__t\))\+'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,x=/^\s*function[ \n\r\t]+\w/,j=/<%=([\s\S]+?)%>/g,E=RegExp("^["+_+"]*0+(?=.$)"),P=/($^)/,N=/\bthis\b/,T=/['\n\r\t\u2028\u2029\\]/g,H="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),M="[object Arguments]",L="[object Array]",A="[object Boolean]",O="[object Date]",I="[object Function]",D="[object Number]",F="[object Object]",R="[object RegExp]",B="[object String]",V={};V[I]=!1,V[M]=V[L]=V[A]=V[O]=V[D]=V[F]=V[R]=V[B]=!0;var U={leading:!1,maxWait:0,trailing:!1},q={configurable:!1,enumerable:!1,value:null,writable:!1},G={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},W=G[typeof window]&&window||this,Y=G[typeof exports]&&exports&&!exports.nodeType&&exports,z=G[typeof module]&&module&&!module.nodeType&&module,J=z&&z.exports===Y&&Y,Q=G[typeof global]&&global;!Q||Q.global!==Q&&Q.window!==Q||(W=Q);var Z=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(W._=Z,define(function(){return Z})):Y&&z?J?(z.exports=Z)._=Z:Y._=Z:W._=Z}).call(this);var GOVUK=GOVUK||{};GOVUK.performance=GOVUK.performance||{},GOVUK.performance.stageprompt=function(){var t,e,n;return n=function(t){var e=t.split(":");return e.length<=3?e:[e.shift(),e.shift(),e.join(":")]},t=function(t){var e=$("[data-journey]").attr("data-journey"),i=$("[data-journey-click]");e&&t.apply(null,n(e)),i.on("click",function(e){t.apply(null,n($(this).data("journey-click")))})},e=function(){t(GOVUK.performance.sendGoogleAnalyticsEvent)},{setup:t,setupForGoogleAnalytics:e}}(),GOVUK.performance.sendGoogleAnalyticsEvent=function(t,e,n){window.ga&&"function"==typeof window.ga?ga("send","event",t,e,n):_gaq.push(["_trackEvent",t,e,n,void 0,!0])},function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{},i=function(t,n){this.selectedClass="selected",this.focusedClass="focused",this.radioClass="selection-button-radio",this.checkboxClass="selection-button-checkbox",void 0!==n&&e.each(n,function(t,e){this[t]=e}.bind(this)),"string"==typeof t?(this.selector=t,this.setInitialState(e(this.selector))):void 0!==t&&(this.$elms=t,this.setInitialState(this.$elms)),this.addEvents()};i.prototype.addEvents=function(){void 0!==this.$elms?this.addElementLevelEvents():this.addDocumentLevelEvents()},i.prototype.setInitialState=function(t){t.each(function(t,n){var i=e(n),s="radio"===i.attr("type")?this.radioClass:this.checkboxClass;i.parent("label").addClass(s),i.is(":checked")&&this.markSelected(i)}.bind(this))},i.prototype.markFocused=function(t,e){"focused"===e?t.parent("label").addClass(this.focusedClass):t.parent("label").removeClass(this.focusedClass)},i.prototype.markSelected=function(t){var n;"radio"===t.attr("type")?(n=t.attr("name"),e(t[0].form).find('input[name="'+n+'"]').parent("label").removeClass(this.selectedClass),t.parent("label").addClass(this.selectedClass)):t.is(":checked")?t.parent("label").addClass(this.selectedClass):t.parent("label").removeClass(this.selectedClass)},i.prototype.addElementLevelEvents=function(){this.clickHandler=this.getClickHandler(),this.focusHandler=this.getFocusHandler({level:"element"}),this.$elms.on("click",this.clickHandler).on("focus blur",this.focusHandler)},i.prototype.addDocumentLevelEvents=function(){this.clickHandler=this.getClickHandler(),this.focusHandler=this.getFocusHandler({level:"document"}),e(document).on("click",this.selector,this.clickHandler).on("focus blur",this.selector,this.focusHandler)},i.prototype.getClickHandler=function(){return function(t){this.markSelected(e(t.target))}.bind(this)},i.prototype.getFocusHandler=function(t){var n="document"===t.level?"focusin":"focus";return function(t){var i=t.type===n?"focused":"blurred";this.markFocused(e(t.target),i)}.bind(this)},i.prototype.destroy=function(){void 0!==this.selector?e(document).off("click",this.selector,this.clickHandler).off("focus blur",this.selector,this.focusHandler):this.$elms.off("click",this.clickHandler).off("focus blur",this.focusHandler)},n.SelectionButtons=i,t.GOVUK=n}(window),function(t){"use strict";function e(){function t(t){return t.replace("[","\\[").replace("]","\\]")}function e(){var t=n(this),e=i(t);e.length&&(t.attr("aria-controls",e.attr("id")),t.attr("aria-expanded","false"),e.attr("aria-hidden","true"))}function i(t){var e=t.attr("aria-controls");return e||(e=t.closest("[data-target]").data("target")),n("#"+e)}function s(t,e){e.hasClass("js-hidden")&&(e.removeClass("js-hidden"),e.attr("aria-hidden","false"),t.attr("aria-controls")&&t.attr("aria-expanded","true"))}function o(t,e){(e=e||i(t)).hasClass("js-hidden")||(e.addClass("js-hidden"),e.attr("aria-hidden","true"),t.attr("aria-controls")&&t.attr("aria-expanded","false"))}function r(e,i){var r=h.radio+"[name="+t(e.attr("name"))+"][aria-controls]",a=e.closest("form");(a.length?a.find(r):n(r)).each(function(){o(n(this))}),e.is("[aria-controls]")&&s(e,i)}function a(t,e){t.is(":checked")?s(t,e):o(t,e)}function l(t,s,o,r){function a(){var t=n(this);r(t,i(t))}t=t||n(document.body);var l=n(s);l.each(e),n.each(o,function(e,n){t.on("click."+h.namespace,n,a)}),l.is(":checked")&&l.filter(":checked").each(a)}function c(){var t=[];return n(h.radio).map(function(){var e=n(this).attr("name");return-1===n.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+n(this).attr("name")+'"]'):null})}var u=this,h={namespace:"ShowHideContent",radio:'[data-target] > input[type="radio"]',checkbox:'[data-target] > input[type="checkbox"]'};u.showHideRadioToggledContent=function(t){l(t,h.radio,c(),r)},u.showHideCheckboxToggledContent=function(t){l(t,h.checkbox,[h.checkbox],a)},u.destroy=function(t){(t=t||n(document.body)).off("."+h.namespace)}}var n=t.jQuery,i=t.GOVUK||{};e.prototype.init=function(t){this.showHideRadioToggledContent(t),this.showHideCheckboxToggledContent(t)},i.ShowHideContent=e,t.GOVUK=i}(window),function(t){"use strict";jQuery.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()}}(),function(t){"use strict";function e(e,s){this.options=t.extend({},i,s),this.element=e,this.$el=t(e),this.$spinElement=this.options.element?t(this.options.element):this.$el,this._defaults=i,this._name=n,this.init()}var n="spinner",i={disabledClass:"disabled",placement:"after"};e.prototype={init:function(){this.disabled()||("after"===this.options.placement?this.$spinElement.after(t('<img src="/assets/v2/images/ajax-loader-small.gif" alt="Loading spinner" class="spinner" />')):"before"===this.options.placement&&this.$spinElement.before(t('<img src="/assets/v2/images/ajax-loader-small.gif" alt="Loading spinner" class="spinner" />')),this.disable())},disable:function(){if(this.$el.addClass(this.options.disabledClass),this.isFormControl()&&this.$el.prop("disabled",!0),this.isLink()){var t=this.$el.attr("href");this.$el.data("href",t).removeAttr("href")}},enable:function(){if(this.$el.removeClass(this.options.disabledClass),this.isFormControl()&&this.$el.prop("disabled",!1),this.isLink()){var t=this.$el.data("href");this.$el.attr("href",t)}},off:function(){this.enable(),this.$spinElement.siblings("img.spinner").remove()},disabled:function(){return this.$el.hasClass(this.options.disabledClass)},isFormControl:function(){if("SELECT"===this.element.tagName||"BUTTON"===this.element.tagName||"INPUT"===this.element.tagName)return!0},isLink:function(){return"A"===this.element.tagName}},t.fn[n]=function(i){return this.each(function(){var s=t.data(this),o="plugin_"+n;s[o]?"off"===i?s[o].off():s[o].init():t.data(this,o,new e(this,i))})}}(jQuery),function(){"use strict";var t={Modules:{},Helpers:{},Events:$({}),init:function(){for(var e in t.Modules)"function"==typeof t.Modules[e].init&&t.Modules[e].init();t.Events.trigger("render")},log:function(t){window&&window.console&&window.console.log(t)},dir:function(t){window&&window.console&&window.console.dir(t)}};window.moj=t}(),function(){"use strict";moj.Modules.devs={init:function(){moj.log("      ___          ___       ___\n     /__/\\        /  /\\     /  /\\\n    |  |::\\      /  /::\\   /  /:/\n    |  |:|:\\    /  /:/\\:\\ /__/::\\\n  __|__|:|\\:\\  /  /:/  \\:\\\\__\\/\\:\\\n /__/::::| \\:\\/__/:/ \\__\\:\\  \\  \\:\\\n \\  \\:\\~~\\__\\/\\  \\:\\ /  /:/   \\__\\:\\\n  \\  \\:\\       \\  \\:\\  /:/    /  /:/\n   \\  \\:\\       \\  \\:\\/:/    /__/:/\n    \\  \\:\\       \\  \\::/     \\__\\/\n     \\__\\/        \\__\\/\n\nLike what you see? Want to make a difference?\n\nFind out how we're making the Ministry Of Justice Digital by Default.\nhttp://blogs.justice.gov.uk/digital/.\n\nGet in touch to see what positions are available and see what projects you could be working on.\nhttps://twitter.com/Justice_Digital")}}}(),function(){"use strict";moj.Helpers.hasHtml5Storage=function(){try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(t){return!1}},moj.Helpers.isPopupOpen=function(){return void 0!==moj.Modules.Popup&&moj.Modules.Popup.isOpen()},moj.Helpers.hasCleanFields=function(t){var e=!0;return $('input:not([type="submit"]), select:not([name*="country"]), textarea',t).each(function(){""!==$(this).val()&&(e=!1)}),e},moj.Helpers.scrollTo=function(t){var e=void 0!==t.target?$($(t.target).attr("href")):$(t),n=moj.Helpers.isPopupOpen()?$("#mask"):$("html, body"),i=moj.Helpers.scrollPos(e);n.animate({scrollTop:i},0).promise().done(function(){e.closest(".group").find("input, select, textarea").first().focus()})},moj.Helpers.scrollPos=function(t){return moj.Helpers.isPopupOpen()?t.offset().top-$("#popup").offset().top:t.offset().top},moj.Helpers.isMobileWidth=function(){return!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)>640)}}(),this.lpa=this.lpa||{},this.lpa.templates=this.lpa.templates||{},this.lpa.templates["alert.withinForm"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,a="",l=this.escapeExpression;return a+='<div class="form-group ',o=(r=n.elementJSref)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementJSref)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'">\n\t<div class="alert panel text" role="alert" tabindex="-1">\n\t\t<i class="icon icon-',o=(r=n.alertType)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.alertType)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'" role="presentation"></i>\n\t\t<div class="alert-message">\n\t\t\t',((o=(r=n.alertMessage)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.alertMessage)?r.call(e,{hash:{},data:s}):r)||0===o)&&(a+=o),a+="\n\t\t</div>\n\t</div>\n</div>"}),this.lpa.templates["dialog.confirmRepeatApplication"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,a="",l=this.escapeExpression;return a+='<div class="dialog-container">\n\n    <div class="dialog-title-block">',o=(r=n.dialogTitle)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.dialogTitle)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'</div>\n\n    <div class="dialog-message-block"><p>',o=(r=n.dialogMessage)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.dialogMessage)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'</p></div>\n\n    <div class="dialog__button-bar">\n        <a class="button dialog__button--accept ',o=(r=n.acceptClass)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.acceptClass)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'">',o=(r=n.acceptButtonText)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.acceptButtonText)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'</a>\n        <a class="button-secondary dialog__button--cancel  ',o=(r=n.cancelClass)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.cancelClass)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'">',o=(r=n.cancelButtonText)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.cancelButtonText)?r.call(e,{hash:{},data:s}):r,a+=l(o)+"</a>\n    </div>\n\n</div>\n"}),this.lpa.templates["errors.formElement"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,a="",l=this.escapeExpression;return a+='<div class="form-element-errors">\n    <div class="group validation">\n        <span class="validation-message">',o=(r=n.validationMessage)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.validationMessage)?r.call(e,{hash:{},data:s}):r,a+=l(o)+"</span>\n    </div>\n</div>"}),this.lpa.templates["errors.formMessage"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,a="",l=this.escapeExpression;return a+='<span class="error-message text">',o=(r=n.errorMessage)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.errorMessage)?r.call(e,{hash:{},data:s}):r,a+=l(o)+"</span>"}),this.lpa.templates["errors.formSummary"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div class="validation-summary group" role="alert" aria-labelledby="error-heading" tabindex="-1">\n    <h1 id="error-heading">There was a problem submitting the form</h1>\n\n    <p>Because of the following problems:</p>\n    <ol>\n    </ol>\n</div>\n'}),this.lpa.templates["input.checkbox"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,a="",l=this.escapeExpression;return a+='<fieldset class="',o=(r=n.elementJSref)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementJSref)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'">\n    <div class="input-checkbox group">\n        <label for="',o=(r=n.elementName)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementName)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'">\n            <input type="checkbox" name="',o=(r=n.elementName)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementName)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'" id="',o=(r=n.elementName)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementName)?r.call(e,{hash:{},data:s}):r,a+=l(o)+'" class="confirmation-validation" value="1"\n                   required="required">\n            ',((o=(r=n.elementLabel)?r.call(e,{hash:{},data:s}):"function"==typeof(r=e&&e.elementLabel)?r.call(e,{hash:{},data:s}):r)||0===o)&&(a+=o),a+="\n        </label>\n    </div>\n</fieldset>\n"}),this.lpa.templates["popup.close"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<p class="close">\n  <a href="#" class="js-popup-close button-close" title="Click or press escape to close this window">Close</a>\n</p>'}),this.lpa.templates["popup.container"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div id="popup" role="dialog" class="popup"></div>'}),this.lpa.templates["popup.content"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div id="popup-content"></div>'}),this.lpa.templates["popup.mask"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div id="mask" class="popover-mask"></div>'}),this.lpa.templates["postcodeLookup.address-change"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div class="form-group">\n\t<ul class="address-type-toggle">\n\t\t<li><a href="#" class="js-PostcodeLookup__change" title="Search for UK Postcode">Search for UK postcode</a></li>\n\t</ul>\n</div>\n'}),this.lpa.templates["postcodeLookup.address-toggle"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div class="form-group">\n\t<ul class="address-type-toggle">\n\t\t<li><a href="#" class="js-PostcodeLookup__toggle-address">Enter address manually</a></li>\n\t</ul>\n</div>\n'}),this.lpa.templates["postcodeLookup.search-field"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div class="form-group js-PostcodeLookup__search">\n  <label class="form-label" for="postcode-lookup">Postcode lookup</label>\n  <input autocomplete="off" type="text" id="postcode-lookup" class="postcode-input form-control js-PostcodeLookup__query">\n  <a href="#" id="find_uk_address" class="postcode-button button js-PostcodeLookup__search-btn" role="button">Find UK address</a>\n</div>\n'}),this.lpa.templates["postcodeLookup.search-result"]=Handlebars.template(function(t,e,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r="",a="function",l=this.escapeExpression,c=this;return r+='<div class="form-group">\n  <label class="form-label" for="address-search-result">Address</label>\n  <select class="form-control js-PostcodeLookup__search-results" id="address-search-result">\n    <option value="">Please select an address...</option>\n    ',((o=n.each.call(e,e&&e.results,{hash:{},inverse:c.noop,fn:c.program(1,function(t,e){var i,s,o="";return o+='\n      <option value="',i=(s=n.id)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.id)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+'" data-line1="',i=(s=n.line1)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.line1)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+'" data-line2="',i=(s=n.line2)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.line2)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+'" data-line3="',i=(s=n.line3)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.line3)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+'" data-postcode="',i=(s=n.postcode)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.postcode)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+'">',i=(s=n.description)?s.call(t,{hash:{},data:e}):typeof(s=t&&t.description)===a?s.call(t,{hash:{},data:e}):s,o+=l(i)+"</option>\n    "},s),data:s}))||0===o)&&(r+=o),r+="\n  </select>\n</div>\n"}),this.lpa.templates["shared.loading-popup"]=Handlebars.template(function(t,e,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{},'<div class="loading">\n\t<img src="/assets/v2/images/ajax-loader-large.gif" class="spinner">\n\t<p>Loading</p>\n</div>\n'}),moj.Modules.PasswordHide={init:function(){this.hookupShowPasswordToggles()},hookupShowPasswordToggles:function(){var t=$(".js-showHidePassword"),e=$("#js-skipConfirmPassword"),n=$("#password_confirm").parent();t.removeClass("hidden"),e.val(0),t.click(function(){var t=$("#"+$(this).attr("data-for")),i=$(this).attr("data-alsoHideConfirm"),s="password"===t.attr("type");return s?i&&(n.addClass("hidden"),e.val(1)):i&&(n.removeClass("hidden"),e.val(0)),t.attr("type",s?"text":"password"),$(this).html(s?"Hide password":"Show password"),!1})}},function(){"use strict";var t=function(t){this.settings=$.extend({},this.defaults,t),this._cacheEls()};t.prototype={defaults:{source:$("#content"),placement:"body",popupId:"popup",ident:null,maskTemplate:lpa.templates["popup.mask"](),containerTemplate:lpa.templates["popup.container"](),contentTemplate:lpa.templates["popup.content"](),closeTemplate:lpa.templates["popup.close"](),beforeOpen:null,onOpen:null,onClose:null},init:function(){},_cacheEls:function(){this.$win=$(window),this.$html=$("html"),this.$body=$("body"),this.$mask=$(this.settings.maskTemplate),this.$popup=$(this.settings.containerTemplate),this.$content=$(this.settings.contentTemplate),this.$close=$(this.settings.closeTemplate)},_bindEvents:function(){var t=this;$("body").on("keydown.moj.Modules.Popup",function(e){27===e.which&&t.close()}),this.$popup.on("click.moj.Modules.Popup",".js-popup-close, .js-cancel",function(e){e.preventDefault(),t.close()})},_unbindEvents:function(){$("body").off("keydown.moj.Modules.Popup"),this.$popup.off("click.moj.Modules.Popup")},open:function(t,e){var n=this;e=$.extend({},this.settings,e),$("html").addClass("noscroll"),$("body > *").addClass("print-hidden"),this.$popup.data("settings",e).removeClass().addClass("popup "+e.ident).append(this.$close).append(this.$content.html(t)).appendTo(this.$mask),this._bindEvents(),$(e.placement)["body"===e.placement?"append":"after"](this.$mask),e.beforeOpen&&"function"==typeof e.beforeOpen&&e.beforeOpen(),this.$mask.fadeTo(200,1),this.$popup.delay(100).fadeIn(200,function(){n.$popup.find("h2").attr("tabindex",-1),n.$popup.find(".close a").focus(),n.loopTabKeys(n.$popup),e.onOpen&&"function"==typeof e.onOpen&&e.onOpen()})},close:function(){if(this.isOpen()){var t=this,e=$("#popup").data("settings"),n=$(window).scrollTop();t.$popup.fadeOut(400,function(){t.$mask.fadeOut(200,function(){void 0!==e.source&&e.source&&e.source.focus(),window.location.hash="",history.pushState&&history.pushState("",document.title,window.location.pathname),e.onClose&&"function"==typeof e.onClose&&e.onClose(),$(this).remove(),$(window).scrollTop(n),$("html").removeClass("noscroll"),$("body > *").removeClass("print-hidden"),t._unbindEvents()})})}},loopTabKeys:function(t){var e="a, area, button, input, object, select, textarea, [tabindex]",n=t.find(e).filter(":first"),i=t.find(e).filter(":last");n.add(i).keydown(function(t){var e=t.keyCode?t.keyCode:t.which,s=t.shiftKey,o=$(this)[0],r=o===i[0]&&!s,a=o===n[0]&&s,l=r?n:a?i:null;9===e&&(r||a)&&(t.preventDefault(),l.focus())})},isOpen:function(){return $("#"+this.settings.popupId).length>0}},moj.Modules.Popup=new t}(),function(){"use strict";var t=function(t){this.settings=$.extend({},this.defaults,t)};t.prototype={defaults:{guidancePath:"guide",selector:"a.js-guidance",overlayIdent:"help-system",overlaySource:"#content",loadingTemplate:lpa.templates["shared.loading-popup"](),popupOnClose:function(){moj.Modules.HelpSystem.topic=void 0}},init:function(){if(0===$("#help-system").length){this._cacheEls(),this._bindEvents();var t,e=window.location.hash;this._isGuidanceHash(e)&&(t=e.substring(e.lastIndexOf("/")+1),this._selectHelpTopic(t))}},_cacheEls:function(){this.html=void 0,this.topic=!1,this.source=!1},_bindEvents:function(){var t=this;$("body").on("click",this.settings.selector,function(){if(moj.Helpers.isMobileWidth())return!0;var e=$(this).attr("href"),n=e.substring(e.lastIndexOf("#")+1);return ga("send","pageview",e),t.source=$(this),t._selectHelpTopic(n),!1}),$(window).on("hashchange.moj.Modules.HelpSystem",function(){var e,n=window.location.hash;t._isGuidanceHash(n)?(e=n.substring(n.lastIndexOf("/")+1),t._selectHelpTopic(e)):""===n&&moj.Modules.Popup.close()})},_isGuidanceHash:function(t){return""!==t&&"#/"!==t&&-1!==t.indexOf(this.settings.guidancePath)},_selectHelpTopic:function(t){var e=this;t!==this.topic&&($("#popup.help-system").length>0?(e._setTopic(t),moj.Helpers.isMobileWidth()&&$("#"+t)[0].scrollIntoView(!0)):this._loadOverlay(t))},_setTopic:function(t){this.topic=t,"#/"+this.settings.guidancePath+"/"+t!==window.location.hash&&(window.location.hash="#/"+this.settings.guidancePath+"/"+t),$('.help-navigation a[href$="#'+t+'"]').parent().addClass("active").siblings("li").removeClass("active"),$("#"+t).removeClass("hidden").siblings("article").addClass("hidden"),$(".link-back").addClass("hidden"),$("#"+t+" + .link-back").removeClass("hidden"),$("#mask").scrollTop(0)},_hasCachedContent:function(){return moj.Helpers.hasHtml5Storage()&&void 0!==sessionStorage.guidanceHTML?sessionStorage.guidanceHTML:void 0!==this.html&&this.html},_loadOverlay:function(t){var e=this;this._hasCachedContent();moj.Modules.Popup.open(this.settings.loadingTemplate,{ident:e.settings.overlayIdent,source:this.source,beforeOpen:function(){$("#popup-content").load("/"+e.settings.guidancePath,function(n){moj.Helpers.hasHtml5Storage()?sessionStorage.guidanceHTML=n:e.html=n,e._setTopic(t)})},onClose:this.settings.popupOnClose})}},moj.Modules.HelpSystem=new t}(),function(){"use strict";var t=function(t){this.settings=$.extend({},this.defaults,t)};t.prototype={defaults:{selector:".js-form-popup",overlayIdent:"form-popup",overlaySource:"#content"},init:function(){_.bindAll(this,"btnClick","submitForm"),this.cacheEls(),this.bindEvents()},cacheEls:function(){this.formContent=[],this.originalSource=!1,this.source=!1},bindEvents:function(){$("body").on("click.moj.Modules.FormPopup",this.settings.selector,this.btnClick).on("submit.moj.Modules.FormPopup","#popup.form-popup form",this.submitForm),moj.Events.on("FormPopup.renderSelectionButtons",this.renderSelectionButtons),moj.Events.on("FormPopup.checkReusedDetails",this.checkReusedDetails)},renderSelectionButtons:function(){var t=$(".block-label input[type='radio'], .block-label input[type='checkbox']");new GOVUK.SelectionButtons(t)},btnClick:function(t){var e=$(t.target),n=e.attr("href");return 0===$("#popup").length&&(this.originalSource=e),this.source=e,e.hasClass("disabled")||(e.spinner(),this.loadContent(n)),!1},loadContent:function(t){var e=this;$.get(t,function(n){-1!==n.toLowerCase().indexOf("sign in")?window.location.reload():(e.renderForm(n),-1!==t.indexOf("reuse-details")&&e.checkReusedDetails())})},checkReusedDetails:function(){moj.Helpers.scrollTo("#popup-content"),$("#dob-date-day").trigger("change"),$('input[name="name-first"]').trigger("change")},renderForm:function(t){this.source.spinner("off"),moj.Modules.Popup.open(t,{ident:this.settings.overlayIdent,source:this.originalSource,beforeOpen:function(){moj.Events.trigger("TitleSwitch.render",{wrap:"#popup"}),moj.Events.trigger("PostcodeLookup.render",{wrap:"#popup"}),moj.Events.trigger("PersonForm.render",{wrap:"#popup"}),moj.Events.trigger("Polyfill.fill",{wrap:"#popup"})}}),this.renderSelectionButtons()},submitForm:function(t){var e=$(t.target),n=e.attr("action"),i="post";return e.find('input[type="submit"]').spinner(),void 0!==e.attr("method")&&(i=e.attr("method")),$.ajax({url:n,type:i,data:e.serialize(),context:e,success:this.ajaxSuccess,error:this.ajaxError}),!1},ajaxSuccess:function(t,e,n){var i,s=$(this);void 0!==t.success&&t.success?window.location.reload():-1!==t.toLowerCase().indexOf("sign in")?window.location.reload():200!==n.status?window.location.reload():(void 0!==t.errors?(i={errors:[]},$.each(t.errors,function(t,e){i.errors.push({label_id:t+"_label",label:$("#"+t+"_label").text(),error:e[0]}),moj.Events.trigger("Validation.renderFieldSummary",{form:s,name:t,errors:e})}),moj.Events.trigger("Validation.renderSummary",{form:s,data:i})):void 0===t.success?($("#popup-content").html(t),moj.Events.trigger("TitleSwitch.render",{wrap:"#popup"}),moj.Events.trigger("PostcodeLookup.render",{wrap:"#popup"}),moj.Events.trigger("Validation.render",{wrap:"#popup"}),moj.Events.trigger("FormPopup.renderSelectionButtons"),-1!==s.serialize().indexOf("reuse-details")&&moj.Events.trigger("FormPopup.checkReusedDetails")):window.location.reload(),s.find('input[type="submit"]').spinner("off"))},ajaxError:function(){window.location.reload()}},moj.Modules.FormPopup=new t}(),function(){"use strict";moj.Modules.TitleSwitch={selector:'[name="name-title"]',init:function(){_.bindAll(this,"render","selectChanged","switchTitle"),this.bindEvents()},bindEvents:function(){$("body").on("change.moj.Modules.TitleSwitch",".js-TitleSwitch-select",this.selectChanged),moj.Events.on("render",this.render),moj.Events.on("TitleSwitch.render",this.render)},render:function(t,e){var n=void 0!==e&&void 0!==e.wrap?e.wrap:"body";$(this.selector,n).each(this.switchTitle)},switchTitle:function(t,e){var n,i=$(e),s=($('label[for="'+i.attr("id")+'"]'),i.val()),o=i.data("select-options");$.isArray(o)&&_.contains(o,s)&&(n=$("<select>",{id:i.attr("id"),name:i.attr("name"),class:"js-TitleSwitch-select form-control"}),$.each(o,function(t,e){n.append($("<option>",{value:e}).text(e)),s===e&&n.val(e)}),i.replaceWith(n))},selectChanged:function(t){var e=$(t.target),n=e.val();if("Other"===n){var i=$("<input>",{id:e.attr("id"),name:e.attr("name"),class:"form-control"});e.replaceWith(i),e.val(n)}}}}(),function(){"use strict";var t=null,e=function(t){_.bindAll(this,"searchClicked","toggleClicked","changeClicked","resultsChanged","queryEnter","postcodeSuccess","postcodeError","addressSuccess","populateFields"),this.cacheEls(t),this.bindEvents(),this.init()};e.prototype={settings:{postcodeSearchUrl:"/address-lookup",addressSearchUrl:"/address-lookup",fieldMappings:{line1:"address-address1",line2:"address-address2",line3:"address-address3",postcode:"postcode"}},cacheEls:function(t){this.$wrap=t,this.$form=this.$wrap.closest("form"),this.$postalFields=this.$wrap.find(".js-PostcodeLookup__postal-add"),this.searchTpl=lpa.templates["postcodeLookup.search-field"],this.toggleTpl=lpa.templates["postcodeLookup.address-toggle"],this.resultTpl=lpa.templates["postcodeLookup.search-result"],this.changeTpl=lpa.templates["postcodeLookup.address-change"],this.errorMessageTpl=lpa.templates["errors.formMessage"]},bindEvents:function(){this.$wrap.on("click.moj.Modules.PostcodeLookup",".js-PostcodeLookup__search-btn",this.searchClicked),this.$wrap.on("click.moj.Modules.PostcodeLookup",".js-PostcodeLookup__toggle-address",this.toggleClicked),this.$wrap.on("click.moj.Modules.PostcodeLookup",".js-PostcodeLookup__change",this.changeClicked),this.$wrap.on("change.moj.Modules.PostcodeLookup",".js-PostcodeLookup__search-results",this.resultsChanged),this.$wrap.on("keydown.moj.Modules.PostcodeLookup",".js-PostcodeLookup__query",this.queryEnter)},init:function(){this.$postalFields.before(this.searchTpl()+this.toggleTpl()+this.changeTpl()).addClass("hidden"),moj.Helpers.hasCleanFields(this.$postalFields)&&!$(".error-summary").length?this.$wrap.find(".js-PostcodeLookup__change").closest("div").addClass("hidden"):(this.hideSearchForm(),this.toggleAddress())},hideSearchForm:function(){this.$wrap.find(".js-PostcodeLookup__search").addClass("hidden"),this.$wrap.find(".js-PostcodeLookup__toggle-address").closest("div").addClass("hidden"),this.$wrap.find(".js-PostcodeLookup__change").closest("div").removeClass("hidden")},changeClicked:function(t){return this.$wrap.find(".js-PostcodeLookup__change").closest("div").addClass("hidden"),this.$wrap.find(".js-PostcodeLookup__search").removeClass("hidden"),moj.Helpers.hasCleanFields(this.$postalFields)&&!$(".error-summary").length&&this.$wrap.find(".js-PostcodeLookup__toggle-address").closest("div").removeClass("hidden"),this.$wrap.find(".js-PostcodeLookup__query").focus(),!1},searchClicked:function(t){var e=$(t.target),n=this.$wrap.find(".js-PostcodeLookup__search"),i=$('label[for="postcode-lookup"]');return this.query=this.$wrap.find(".js-PostcodeLookup__query").val(),e.hasClass("disabled")||(""!==this.query?(e.spinner(),this.findPostcode(this.query),n.removeClass("error"),i.children(".error-message").remove()):(n.addClass("error"),i.children(".error-message").remove(),i.append($(this.errorMessageTpl({errorMessage:"Please enter a postcode"}))))),!1},toggleClicked:function(t){$(t.target);return this.toggleAddress(),!1},resultsChanged:function(e){var n=$(e.target),i=n.val();if("mojDs"===t){var s=n.find(":selected");$('[name*="'+this.settings.fieldMappings.line1+'"]').val(s.data("line1")),$('[name*="'+this.settings.fieldMappings.line2+'"]').val(s.data("line2")),$('[name*="'+this.settings.fieldMappings.line3+'"]').val(s.data("line3")),$('[name*="'+this.settings.fieldMappings.postcode+'"]').val(s.data("postcode")).change()}else n.spinner(),this.findAddress(i);this.toggleAddress()},queryEnter:function(t){13===(t.keyCode?t.keyCode:t.which)&&(t.preventDefault(),this.$wrap.find(".js-PostcodeLookup__search-btn").click())},findPostcode:function(t){$.ajax({url:this.settings.postcodeSearchUrl,data:{postcode:t},dataType:"json",timeout:1e4,cache:!0,error:this.postcodeError,success:this.postcodeSuccess})},postcodeError:function(t,e,n){var i="There was a problem: ";this.$wrap.find(".js-PostcodeLookup__search-btn").spinner("off"),i+="timeout"===e?"the service did not respond in the allotted time":n,alert(i)},postcodeSuccess:function(e){if(e.success&&null!==e.addresses)t=e.postcodeService,this.$wrap.find(".js-PostcodeLookup__search-results").length>0?this.$wrap.find(".js-PostcodeLookup__search-results").parent().replaceWith(this.resultTpl({results:e.addresses})):this.$wrap.find(".js-PostcodeLookup__search").after(this.resultTpl({results:e.addresses})),this.$wrap.find(".js-PostcodeLookup__search-results").focus();else{var n=this.$wrap.find(".js-PostcodeLookup__search"),i=$('label[for="postcode-lookup"]');e.isPostcodeValid?(n.addClass("error"),i.children(".error-message").remove(),i.append($(this.errorMessageTpl({errorMessage:"No address found for this postcode. Please try again or enter the address manually."})))):alert("Please enter a valid UK postcode")}this.$wrap.find(".js-PostcodeLookup__search-btn").spinner("off")},findAddress:function(t){$.ajax({url:this.settings.addressSearchUrl,data:{addressid:parseInt($.trim(t),10)},dataType:"json",timeout:1e4,cache:!0,success:this.addressSuccess})},addressSuccess:function(t){this.populateFields(t)},populateFields:function(t){_.each(this.settings.fieldMappings,function(e,n){null!==e&&this.$postalFields.find('[name*="'+e+'"]').val(t[n]).change()},this),this.toggleAddress(),this.$wrap.find(".js-PostcodeLookup__search-results").spinner("off")},toggleAddress:function(){var t=this.$wrap.find(".js-PostcodeLookup__query"),e=this.$wrap.find('[name*="'+this.settings.fieldMappings.postcode+'"]');""!==t.val()&&""===e.val()&&e.val(t.val()).change(),this.$postalFields.removeClass("hidden"),1===$(".js-PostcodeLookup__postal-add").parent().find("#address-search-result").length&&this.$postalFields.find('[name*="addr1"]').focus()}},moj.Modules.PostcodeLookup={init:function(){$(".js-PostcodeLookup").each(function(){$(this).data("moj.PostcodeLookup")||$(this).data("moj.PostcodeLookup",new e($(this),$(this).data()))}),moj.Events.on("PostcodeLookup.render",this.render)},render:function(t,n){$(".js-PostcodeLookup",n.wrap).each(function(){$(this).data("moj.PostcodeLookup")||$(this).data("moj.PostcodeLookup",new e($(this),$(this).data()))})}}}(),function(){"use strict";var t;moj.Modules.PersonForm={selector:".js-PersonForm",init:function(){t=this,_.bindAll(this,"render","formEvents"),this.cacheEls(),this.bindEvents()},cacheEls:function(){this.$els=$(this.selector)},bindEvents:function(){moj.Events.on("render",this.render),moj.Events.on("TitleSwitch.render",this.render)},render:function(t,e){var n=void 0!==e&&void 0!==e.wrap?e.wrap:"body";$(this.selector,n).each(this.formEvents)},formEvents:function(t,e){window&&window.console&&window.console.log("count "+t);var n,i,s,o=$(e),r=($('input[type="submit"]',o),$("input[required], label.required + input, label.required ~ select",o)),a=$('input[name^="address"]',o),l=function(){var t,e,n,i,s=$("#dob-date-day"),o=$("#dob-date-month"),r=$("#dob-date-year");return""!==s.val()&&(t=parseInt(s.val(),10),(isNaN(t)||t<1||t>31)&&(t=void 0)),""!==o.val()&&(e=parseInt(o.val(),10),isNaN(e)||e<=0||e>12?e=void 0:e-=1),""!==r.val()&&(n=parseInt(r.val(),10),(isNaN(n)||n<=0)&&(n=void 0)),i=new Date(n,e,t),isFinite(i)||(i=null),i},c=(lpa.templates["errors.formElement"],lpa.templates["errors.formSummary"],lpa.templates["alert.withinForm"]);lpa.templates["input.checkbox"];o.on("change.moj.Modules.PersonForm","input, select",function(t){var e,u,h=$(t.target),p=new Date,d=new Date(p.getUTCFullYear()-18,p.getUTCMonth(),p.getUTCDate()),f=new Date(p.getUTCFullYear()-100,p.getUTCMonth(),p.getUTCDate()),m=($(".dob-element"),$(".group.action"),$('input[name="name-first"]',o)),g=$('input[name="name-last"]',o),v=null;if(!h.hasClass("confirmation-validation")){if("name-first"===h.attr("name")||"name-last"===h.attr("name")){var y=o.data("actor-names");if(void 0!==y&&y.length)for(e=0;e<y.length;e++)if(u=y[e],m.val().toLocaleLowerCase().trim()===u.firstname.toLocaleLowerCase()&&g.val().toLocaleLowerCase().trim()===u.lastname.toLocaleLowerCase()){v=u;break}if($(".js-duplication-alert").remove(),null!==v){var b="The "+v.type+"'s name is also ";$.inArray(v.type,["replacement attorney","person to notify"])>-1?b="There is already a "+v.type+" called ":"attorney"==v.type&&(b="There is already an "+v.type+" called "),$('label[for="name-last"]',o).parents(".form-group").after($(c({elementJSref:"js-duplication-alert",alertType:"important-small",alertMessage:"<p>"+b+v.firstname+" "+v.lastname+". You can't use the same person in multiple roles. By saving this section, you are confirming that these are two different people with the same name.</p>"}))),$(".alert.panel").focus()}}h.parents(".dob-element").length&&($(".js-age-check").remove(),null!==(s=l())&&(s>d&&s<new Date?$(".dob-element",o).after($(c({elementJSref:"js-age-check",alertType:"important-small",alertMessage:'This person is under 18. I understand they must be at least 18 <strong class="bold-small">on the date the donor signs the LPA</strong>, otherwise it will be rejected.'}))):s<=f&&$(".dob-element",o).after($(c({elementJSref:"js-age-check",alertType:"important-small",alertMessage:"By saving this section, you confirm that the person is more than 100 years old. If not, please change the date."}))),$(".alert.panel").focus()))}r=$("input[required], label.required + input, label.required ~ select",o),n=!0,r.each(function(){if(n){var t=$(this);""===$.trim(t.val())&&(n=!1),"checkbox"===t.prop("type")&&(n=t.prop("checked"))}}),(i=a.filter(function(){return 0!==this.value.length}).length)<2&&(n=!1)}).on("change.moj.Modules.PersonForm",'[name="relationshipToDonor"]',function(){var t=$("#relationshipToDonorOther").closest(".group");"Other"===$(this).val()?t.show().find("input").focus():t.hide()}),$('[name="relationshipToDonor"]',o).change().closest("form").data("dirty",!1)}}}(),function(){"use strict";moj.Modules.Validation={selector:".error-summary[role=group]",init:function(){_.bindAll(this,"render"),this.bindEvents(),this.render(null,{wrap:"body"})},bindEvents:function(){moj.Events.on("Validation.render",this.render)},render:function(t,e){var n=$(this.selector,$(e.wrap));n.length>0&&n.focus()}}}(),function(){"use strict";moj.Modules.UserTimeout={timeoutDuration:33e5,gracePeriod:3e5,timeout:null,init:function(){_.bindAll(this,"warning");this.time()},warning:function(){var t="",e=this;t+='<div class="timeout-body">',t+="<h1>Session timeout</h1>",t+="<p>You have been inactive for 55 minutes and will be automatically logged out in 5 minutes.</p>",t+="<p>Click 'OK' to stay signed in and continue with your LPA.</p>",t+='<ul class="actions">',t+='<li><a id="sessionRefresh" class="button" href="#">OK</a></li>',t+='<li><a class="button-secondary" href="/user/logout">Sign out</a></li>',t+="</ul>",t+="</div>",moj.Modules.Popup.open(t,{ident:"timeout"}),$("#sessionRefresh").on("click",function(t){t.preventDefault(),window.clearTimeout(e.timeout),e.timeout=null,moj.Modules.Popup.close(),e.refreshSession()}),e.timeout=setTimeout(function(){window.location="/login/timeout"},e.gracePeriod)},refreshSession:function(){this.time()},time:function(){return(new Date).getTime()}}}(),function(){"use strict";moj.Modules.StickyNav={init:function(){_.bindAll(this,"stickIt"),this.stickIt()},stickIt:function(){if($("nav.progress-indicator").length){var t=Math.floor($("#content").width()-16),e=$("nav.progress-indicator"),n=e.offset().top;e.css({width:t}),$(window).resize(function(){t=Math.floor($("#content").width()-16),e.css({width:t})}),$(window).scroll(function(){var t=$(window).scrollTop();n<t?e.addClass("sticky").removeClass("static"):e.addClass("static").removeClass("sticky")})}}}}(),function(){"use strict";moj.Modules.RepeatApplication={selector:"#lpa-type",init:function(){_.bindAll(this,"render"),this.cacheEls(),this.bindEvents(),this.render(null,{wrap:"body"})},cacheEls:function(){this.$selector=$(this.selector)},bindEvents:function(){moj.Events.on("RepeatApplication.render",this.render)},displayCaseNumber:function(t){$("#is-repeat-application:checked").length?$(".js-case-number").removeClass("js-hidden"):$(".js-case-number").addClass("js-hidden")},render:function(){this.displayCaseNumber(0),this.initialiseEvents()},onRepeatApplicationFormChangeHandler:function(){this.displayCaseNumber(500)},onRepeatApplicationFormClickHandler:function(t){var e,n,i=lpa.templates["dialog.confirmRepeatApplication"],s=!1;$("#is-repeat-application:checked").length&&(n=t.target.form,t.preventDefault(),t.stopImmediatePropagation(),e=i({dialogTitle:"Confirm",dialogMessage:"I confirm that the Office of the Public Guardian has told me that I can apply to make a repeat application for £41 within 3 months.",acceptButtonText:"Confirm and continue",cancelButtonText:"Cancel",acceptClass:"js-dialog-accept",cancelClass:"js-dialog-cancel"}),moj.Modules.Popup.open(e,{ident:"dialog"}),$(".dialog").on("click","a",function(t){var e=$(t.target);s||(e.hasClass("js-dialog-accept")?(e.addClass("disabled"),n.submit(),s=!0):moj.Modules.Popup.close())}))},initialiseEvents:function(){var t=this;$("form#form-repeat-application").on("change",'input[type="radio"]',function(e){t.onRepeatApplicationFormChangeHandler(e)}),$("form#form-repeat-application").on("click",'input[type="submit"]',function(e){t.onRepeatApplicationFormClickHandler(e)})}}}(),function(){"use strict";moj.Modules.Dashboard={init:function(){this.changeMobileActions(),this.searchFocus(),this.ie8NthChildFix()},changeMobileActions:function(){moj.Helpers.isMobileWidth()&&$("tr .lpa-actions").each(function(){$(".lpa-manage details",this).before($(".lpa-manage details ul",this)),$(".lpa-manage details").addClass("hidden")})},searchFocus:function(){""!==$(".js-search-focus").val()&&$(".js-search-focus").addClass("focus"),$(".js-search-focus").on("focus",function(){$(this).hasClass("focus")||$(this).addClass("focus")}),$(".js-search-focus").on("blur",function(){""===$(this).val()&&$(this).removeClass("focus")})},ie8NthChildFix:function(){$("html").hasClass("lte-ie8")&&$(".lpa-cards tr:nth-child(2n-1)").addClass("odd")}}}(),function(){"use strict";moj.Modules.Applicant={init:function(){this.selectionBehaviour()},selectionBehaviour:function(){$(".js-attorney-list")[0]&&($('[name="whoIsRegistering"]').change(function(){"donor"===$(this).val()&&($(".js-attorney-list input:checkbox").prop("checked",!1),moj.Modules.Applicant.renderRegisteredByInputs())}),$(".js-attorney-list input").change(function(){$(".js-attorney-list input").is(":checked")&&$('input[name="whoIsRegistering"][value!="donor"]').prop("checked",!0),moj.Modules.Applicant.renderRegisteredByInputs()}))},renderRegisteredByInputs:function(){$('[name="whoIsRegistering"]').parent().removeClass("selected"),$('[name="whoIsRegistering"]:checked').parent().addClass("selected"),$(".js-attorney-list input").parent().removeClass("selected"),$(".js-attorney-list input:checked").parent().addClass("selected")}}}(),function(){"use strict";moj.Modules.Fees={init:function(){this.labelSubtextDisplay()},labelSubtextDisplay:function(){$("input[name=reductionOptions]").change(function(){$(".revised-fee").addClass("hidden"),$("#reducedFeeReceivesBenefits").is(":checked")?$("#revised-fee-0").removeClass("hidden"):$("#reducedFeeUniversalCredit").is(":checked")&&$("#revised-fee-uc").removeClass("hidden")})}}}(),function(){"use strict";moj.Modules.WhoAreYou={init:function(){this.selectionBehaviour()},selectionBehaviour:function(){$("#WhoAreYou input:radio:checked").parents(".set").find(".subquestion:first").show(),$("#WhoAreYou input:radio").change(function(){$("#WhoAreYou .subquestion").hide(),$(this).parents(".set").find(".subquestion:first").show(),$("#WhoAreYou .subquestion:hidden input:radio").prop("checked",!1)})}}}(),function(){"use strict";function t(t,e,n){t.addEventListener?t.addEventListener(e,function(t){n(t,t.target)},!1):t.attachEvent&&t.attachEvent("on"+e,function(t){n(t,t.srcElement)})}function e(t,e){do{if(!t||t.nodeName.toLowerCase()===e)break;t=t.parentNode}while(t);return t}function n(t){var e="true"===t.__details.__summary.getAttribute("aria-expanded"),n="true"===t.__details.__content.getAttribute("aria-hidden");return t.__details.__summary.setAttribute("aria-expanded",e?"false":"true"),t.__details.__content.setAttribute("aria-hidden",n?"false":"true"),s||(t.__details.__content.style.display=e?"none":"",null!==t.__details.getAttribute("open")?t.__details.removeAttribute("open"):t.__details.setAttribute("open","open")),t.__twisty&&(t.__twisty.firstChild.nodeValue=e?"►":"▼",t.__twisty.setAttribute("class",e?"arrow arrow-closed":"arrow arrow-open")),!0}function i(t){if(0!==(t=document.getElementsByTagName("details")).length){var e=t.length,n=0;for(n;n<e;n++){var i=t[n];if(!i.__filled){i.__filled=!0,i.__summary=i.getElementsByTagName("summary").item(0),i.__content=i.getElementsByTagName("div").item(0),i.__content.id||(i.__content.id="details-content-"+n),i.setAttribute("role","group"),i.__summary.setAttribute("role","button"),i.__summary.setAttribute("aria-controls",i.__content.id),s||(i.__summary.tabIndex=0);var o=null!==i.getAttribute("open");if(!0===o?(i.__summary.setAttribute("aria-expanded","true"),i.__content.setAttribute("aria-hidden","false")):(i.__summary.setAttribute("aria-expanded","false"),i.__content.setAttribute("aria-hidden","true"),s||(i.__content.style.display="none")),i.__summary.__details=i,!s){var r=document.createElement("i");!0===o?(r.className="arrow arrow-open",r.appendChild(document.createTextNode("▼"))):(r.className="arrow arrow-closed",r.appendChild(document.createTextNode("►"))),i.__summary.__twisty=i.__summary.insertBefore(r,i.__summary.firstChild),i.__summary.__twisty.setAttribute("aria-hidden","true")}}}}}var s="boolean"==typeof document.createElement("details").open;!function(e,n){t(e,"keypress",function(t,e){"SUMMARY"===e.nodeName&&32===t.keyCode&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}),t(e,"keyup",function(t,e){13!==t.keyCode&&32!==t.keyCode||n(t,e)}),t(e,"mouseup",function(t,e){n(t,e)})}(document,function(t,i){return!(i=e(i,"summary"))||n(i)}),moj.Modules.DetailsPolyfill={init:function(){moj.Events.on("Polyfill.fill",this.fill),this.fill()},fill:function(){i()}}}(),$(moj.init);var $blockLabels=$(".block-label input[type='radio'], .block-label input[type='checkbox']");new GOVUK.SelectionButtons($blockLabels);var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),$("body").removeClass("no-js");
//# sourceMappingURL=application.min.js.map